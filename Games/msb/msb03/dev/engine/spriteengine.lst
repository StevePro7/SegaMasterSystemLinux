                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.0 #12072 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module spriteengine
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _free
                                     12 	.globl _malloc
                                     13 	.globl _devkit_SMS_finalizeSprites
                                     14 	.globl _devkit_SMS_addSprite
                                     15 	.globl _devkit_SMS_initSprites
                                     16 	.globl _devkit_SMS_loadTiles
                                     17 	.globl _devkit_SMS_mapROMBank
                                     18 	.globl _entityVramPosition
                                     19 	.globl _entityIndex
                                     20 	.globl _entitylist
                                     21 	.globl _initEngine
                                     22 	.globl _addEntity
                                     23 	.globl _setAnimation
                                     24 	.globl _forceReload
                                     25 	.globl _isFrameEnded
                                     26 	.globl _isAnimationEnded
                                     27 	.globl _setDirection
                                     28 	.globl _updateAnimations
                                     29 	.globl _updateTiles
                                     30 	.globl _drawEntities
                                     31 	.globl _move_entity
                                     32 ;--------------------------------------------------------
                                     33 ; special function registers
                                     34 ;--------------------------------------------------------
                                     35 ;--------------------------------------------------------
                                     36 ; ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area _DATA
                           000000    39 G$entitylist$0_0$0==.
      000000                         40 _entitylist::
      000000                         41 	.ds 10
                                     42 ;--------------------------------------------------------
                                     43 ; ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area _INITIALIZED
                           000000    46 G$entityIndex$0_0$0==.
      000000                         47 _entityIndex::
      000000                         48 	.ds 1
                           000001    49 G$entityVramPosition$0_0$0==.
      000001                         50 _entityVramPosition::
      000001                         51 	.ds 2
                                     52 ;--------------------------------------------------------
                                     53 ; absolute external ram data
                                     54 ;--------------------------------------------------------
                                     55 	.area _DABS (ABS)
                                     56 ;--------------------------------------------------------
                                     57 ; global & static initialisations
                                     58 ;--------------------------------------------------------
                                     59 	.area _HOME
                                     60 	.area _GSINIT
                                     61 	.area _GSFINAL
                                     62 	.area _GSINIT
                                     63 ;--------------------------------------------------------
                                     64 ; Home
                                     65 ;--------------------------------------------------------
                                     66 	.area _HOME
                                     67 	.area _HOME
                                     68 ;--------------------------------------------------------
                                     69 ; code
                                     70 ;--------------------------------------------------------
                                     71 	.area _CODE
                           000000    72 	G$initEngine$0$0	= .
                                     73 	.globl	G$initEngine$0$0
                           000000    74 	C$spriteengine.c$9$0_0$115	= .
                                     75 	.globl	C$spriteengine.c$9$0_0$115
                                     76 ;spriteengine.c:9: void initEngine() 
                                     77 ;	---------------------------------
                                     78 ; Function initEngine
                                     79 ; ---------------------------------
      000000                         80 _initEngine::
                           000000    81 	C$spriteengine.c$12$3_0$117	= .
                                     82 	.globl	C$spriteengine.c$12$3_0$117
                                     83 ;spriteengine.c:12: for(i = 0;i < MAX_ENTITIES; i++)
      000000 01 00 00         [10]   84 	ld	bc, #0x0000
      000003                         85 00102$:
                           000003    86 	C$spriteengine.c$14$3_0$117	= .
                                     87 	.globl	C$spriteengine.c$14$3_0$117
                                     88 ;spriteengine.c:14: free(entitylist[i]);
      000003 69               [ 4]   89 	ld	l, c
      000004 60               [ 4]   90 	ld	h, b
      000005 29               [11]   91 	add	hl, hl
      000006 11r00r00         [10]   92 	ld	de, #_entitylist
      000009 19               [11]   93 	add	hl, de
      00000A 5E               [ 7]   94 	ld	e, (hl)
      00000B 23               [ 6]   95 	inc	hl
      00000C 56               [ 7]   96 	ld	d, (hl)
      00000D 2B               [ 6]   97 	dec	hl
      00000E E5               [11]   98 	push	hl
      00000F C5               [11]   99 	push	bc
      000010 D5               [11]  100 	push	de
      000011 CDr00r00         [17]  101 	call	_free
      000014 F1               [10]  102 	pop	af
      000015 C1               [10]  103 	pop	bc
      000016 E1               [10]  104 	pop	hl
                           000017   105 	C$spriteengine.c$15$3_0$117	= .
                                    106 	.globl	C$spriteengine.c$15$3_0$117
                                    107 ;spriteengine.c:15: entitylist[i] = 0;
      000017 AF               [ 4]  108 	xor	a, a
      000018 77               [ 7]  109 	ld	(hl), a
      000019 23               [ 6]  110 	inc	hl
      00001A 77               [ 7]  111 	ld	(hl), a
                           00001B   112 	C$spriteengine.c$12$2_0$116	= .
                                    113 	.globl	C$spriteengine.c$12$2_0$116
                                    114 ;spriteengine.c:12: for(i = 0;i < MAX_ENTITIES; i++)
      00001B 03               [ 6]  115 	inc	bc
      00001C 79               [ 4]  116 	ld	a, c
      00001D D6 05            [ 7]  117 	sub	a, #0x05
      00001F 78               [ 4]  118 	ld	a, b
      000020 17               [ 4]  119 	rla
      000021 3F               [ 4]  120 	ccf
      000022 1F               [ 4]  121 	rra
      000023 DE 80            [ 7]  122 	sbc	a, #0x80
      000025 38 DC            [12]  123 	jr	C, 00102$
                           000027   124 	C$spriteengine.c$17$1_0$115	= .
                                    125 	.globl	C$spriteengine.c$17$1_0$115
                                    126 ;spriteengine.c:17: entityIndex = 0;
      000027 3E 00            [ 7]  127 	ld	a, #0x00
      000029 32r00r00         [13]  128 	ld	(#_entityIndex), a
                           00002C   129 	C$spriteengine.c$18$1_0$115	= .
                                    130 	.globl	C$spriteengine.c$18$1_0$115
                                    131 ;spriteengine.c:18: }
                           00002C   132 	C$spriteengine.c$18$1_0$115	= .
                                    133 	.globl	C$spriteengine.c$18$1_0$115
                           00002C   134 	XG$initEngine$0$0	= .
                                    135 	.globl	XG$initEngine$0$0
      00002C C9               [10]  136 	ret
                           00002D   137 	G$addEntity$0$0	= .
                                    138 	.globl	G$addEntity$0$0
                           00002D   139 	C$spriteengine.c$20$1_0$119	= .
                                    140 	.globl	C$spriteengine.c$20$1_0$119
                                    141 ;spriteengine.c:20: entity* addEntity(character* characterData, unsigned char px, unsigned char py)
                                    142 ;	---------------------------------
                                    143 ; Function addEntity
                                    144 ; ---------------------------------
      00002D                        145 _addEntity::
      00002D DD E5            [15]  146 	push	ix
      00002F DD 21 00 00      [14]  147 	ld	ix,#0
      000033 DD 39            [15]  148 	add	ix,sp
                           000035   149 	C$spriteengine.c$22$1_0$119	= .
                                    150 	.globl	C$spriteengine.c$22$1_0$119
                                    151 ;spriteengine.c:22: entitylist[entityIndex] = malloc(sizeof(entity));
      000035 01r00r00         [10]  152 	ld	bc, #_entitylist+0
      000038 3Ar00r00         [13]  153 	ld	a, (#_entityIndex + 0)
      00003B 6F               [ 4]  154 	ld	l, a
      00003C 26 00            [ 7]  155 	ld	h, #0x00
      00003E 29               [11]  156 	add	hl, hl
      00003F 09               [11]  157 	add	hl, bc
      000040 E5               [11]  158 	push	hl
      000041 C5               [11]  159 	push	bc
      000042 11 0E 00         [10]  160 	ld	de, #0x000e
      000045 D5               [11]  161 	push	de
      000046 CDr00r00         [17]  162 	call	_malloc
      000049 F1               [10]  163 	pop	af
      00004A EB               [ 4]  164 	ex	de, hl
      00004B C1               [10]  165 	pop	bc
      00004C E1               [10]  166 	pop	hl
      00004D 73               [ 7]  167 	ld	(hl), e
      00004E 23               [ 6]  168 	inc	hl
      00004F 72               [ 7]  169 	ld	(hl), d
                           000050   170 	C$spriteengine.c$23$1_0$119	= .
                                    171 	.globl	C$spriteengine.c$23$1_0$119
                                    172 ;spriteengine.c:23: entitylist[entityIndex]->entityIndex = entityIndex;
      000050 FD 21r00r00      [14]  173 	ld	iy, #_entityIndex
      000054 FD 6E 00         [19]  174 	ld	l, 0 (iy)
      000057 26 00            [ 7]  175 	ld	h, #0x00
      000059 29               [11]  176 	add	hl, hl
      00005A 09               [11]  177 	add	hl, bc
      00005B 5E               [ 7]  178 	ld	e, (hl)
      00005C 23               [ 6]  179 	inc	hl
      00005D 56               [ 7]  180 	ld	d, (hl)
      00005E 13               [ 6]  181 	inc	de
      00005F 13               [ 6]  182 	inc	de
      000060 FD 7E 00         [19]  183 	ld	a, 0 (iy)
      000063 12               [ 7]  184 	ld	(de), a
                           000064   185 	C$spriteengine.c$24$1_0$119	= .
                                    186 	.globl	C$spriteengine.c$24$1_0$119
                                    187 ;spriteengine.c:24: entitylist[entityIndex]->currentAnimation = 0;
      000064 FD 6E 00         [19]  188 	ld	l, 0 (iy)
      000067 26 00            [ 7]  189 	ld	h, #0x00
      000069 29               [11]  190 	add	hl, hl
      00006A 09               [11]  191 	add	hl, bc
      00006B 5E               [ 7]  192 	ld	e, (hl)
      00006C 23               [ 6]  193 	inc	hl
      00006D 56               [ 7]  194 	ld	d, (hl)
      00006E 21 06 00         [10]  195 	ld	hl, #0x0006
      000071 19               [11]  196 	add	hl, de
      000072 36 00            [10]  197 	ld	(hl), #0x00
                           000074   198 	C$spriteengine.c$25$1_0$119	= .
                                    199 	.globl	C$spriteengine.c$25$1_0$119
                                    200 ;spriteengine.c:25: entitylist[entityIndex]->currentFrame = 0;
      000074 FD 6E 00         [19]  201 	ld	l, 0 (iy)
      000077 26 00            [ 7]  202 	ld	h, #0x00
      000079 29               [11]  203 	add	hl, hl
      00007A 09               [11]  204 	add	hl, bc
      00007B 5E               [ 7]  205 	ld	e, (hl)
      00007C 23               [ 6]  206 	inc	hl
      00007D 56               [ 7]  207 	ld	d, (hl)
      00007E 21 07 00         [10]  208 	ld	hl, #0x0007
      000081 19               [11]  209 	add	hl, de
      000082 36 00            [10]  210 	ld	(hl), #0x00
                           000084   211 	C$spriteengine.c$26$1_0$119	= .
                                    212 	.globl	C$spriteengine.c$26$1_0$119
                                    213 ;spriteengine.c:26: entitylist[entityIndex]->framecnt = 0;
      000084 FD 6E 00         [19]  214 	ld	l, 0 (iy)
      000087 26 00            [ 7]  215 	ld	h, #0x00
      000089 29               [11]  216 	add	hl, hl
      00008A 09               [11]  217 	add	hl, bc
      00008B 5E               [ 7]  218 	ld	e, (hl)
      00008C 23               [ 6]  219 	inc	hl
      00008D 56               [ 7]  220 	ld	d, (hl)
      00008E 21 08 00         [10]  221 	ld	hl, #0x0008
      000091 19               [11]  222 	add	hl, de
      000092 36 00            [10]  223 	ld	(hl), #0x00
                           000094   224 	C$spriteengine.c$27$1_0$119	= .
                                    225 	.globl	C$spriteengine.c$27$1_0$119
                                    226 ;spriteengine.c:27: entitylist[entityIndex]->has2ReloadTiles = true;
      000094 FD 6E 00         [19]  227 	ld	l, 0 (iy)
      000097 26 00            [ 7]  228 	ld	h, #0x00
      000099 29               [11]  229 	add	hl, hl
      00009A 09               [11]  230 	add	hl, bc
      00009B 5E               [ 7]  231 	ld	e, (hl)
      00009C 23               [ 6]  232 	inc	hl
      00009D 56               [ 7]  233 	ld	d, (hl)
      00009E 21 0B 00         [10]  234 	ld	hl, #0x000b
      0000A1 19               [11]  235 	add	hl, de
      0000A2 36 01            [10]  236 	ld	(hl), #0x01
                           0000A4   237 	C$spriteengine.c$28$1_0$119	= .
                                    238 	.globl	C$spriteengine.c$28$1_0$119
                                    239 ;spriteengine.c:28: entitylist[entityIndex]->frameEnded = true;
      0000A4 FD 6E 00         [19]  240 	ld	l, 0 (iy)
      0000A7 26 00            [ 7]  241 	ld	h, #0x00
      0000A9 29               [11]  242 	add	hl, hl
      0000AA 09               [11]  243 	add	hl, bc
      0000AB 5E               [ 7]  244 	ld	e, (hl)
      0000AC 23               [ 6]  245 	inc	hl
      0000AD 56               [ 7]  246 	ld	d, (hl)
      0000AE 21 0D 00         [10]  247 	ld	hl, #0x000d
      0000B1 19               [11]  248 	add	hl, de
      0000B2 36 01            [10]  249 	ld	(hl), #0x01
                           0000B4   250 	C$spriteengine.c$29$1_0$119	= .
                                    251 	.globl	C$spriteengine.c$29$1_0$119
                                    252 ;spriteengine.c:29: entitylist[entityIndex]->animationEnded = true;
      0000B4 FD 6E 00         [19]  253 	ld	l, 0 (iy)
      0000B7 26 00            [ 7]  254 	ld	h, #0x00
      0000B9 29               [11]  255 	add	hl, hl
      0000BA 09               [11]  256 	add	hl, bc
      0000BB 5E               [ 7]  257 	ld	e, (hl)
      0000BC 23               [ 6]  258 	inc	hl
      0000BD 56               [ 7]  259 	ld	d, (hl)
      0000BE 21 0C 00         [10]  260 	ld	hl, #0x000c
      0000C1 19               [11]  261 	add	hl, de
      0000C2 36 01            [10]  262 	ld	(hl), #0x01
                           0000C4   263 	C$spriteengine.c$30$1_0$119	= .
                                    264 	.globl	C$spriteengine.c$30$1_0$119
                                    265 ;spriteengine.c:30: entitylist[entityIndex]->characterData = characterData;
      0000C4 FD 6E 00         [19]  266 	ld	l, 0 (iy)
      0000C7 26 00            [ 7]  267 	ld	h, #0x00
      0000C9 29               [11]  268 	add	hl, hl
      0000CA 09               [11]  269 	add	hl, bc
      0000CB 5E               [ 7]  270 	ld	e, (hl)
      0000CC 23               [ 6]  271 	inc	hl
      0000CD 56               [ 7]  272 	ld	d, (hl)
      0000CE DD 7E 04         [19]  273 	ld	a, 4 (ix)
      0000D1 12               [ 7]  274 	ld	(de), a
      0000D2 13               [ 6]  275 	inc	de
      0000D3 DD 7E 05         [19]  276 	ld	a, 5 (ix)
      0000D6 12               [ 7]  277 	ld	(de), a
                           0000D7   278 	C$spriteengine.c$31$1_0$119	= .
                                    279 	.globl	C$spriteengine.c$31$1_0$119
                                    280 ;spriteengine.c:31: entitylist[entityIndex]->px = px;
      0000D7 FD 6E 00         [19]  281 	ld	l, 0 (iy)
      0000DA 26 00            [ 7]  282 	ld	h, #0x00
      0000DC 29               [11]  283 	add	hl, hl
      0000DD 09               [11]  284 	add	hl, bc
      0000DE 5E               [ 7]  285 	ld	e, (hl)
      0000DF 23               [ 6]  286 	inc	hl
      0000E0 56               [ 7]  287 	ld	d, (hl)
      0000E1 EB               [ 4]  288 	ex	de,hl
      0000E2 23               [ 6]  289 	inc	hl
      0000E3 23               [ 6]  290 	inc	hl
      0000E4 23               [ 6]  291 	inc	hl
      0000E5 DD 7E 06         [19]  292 	ld	a, 6 (ix)
      0000E8 77               [ 7]  293 	ld	(hl), a
                           0000E9   294 	C$spriteengine.c$32$1_0$119	= .
                                    295 	.globl	C$spriteengine.c$32$1_0$119
                                    296 ;spriteengine.c:32: entitylist[entityIndex]->py = py;
      0000E9 FD 6E 00         [19]  297 	ld	l, 0 (iy)
      0000EC 26 00            [ 7]  298 	ld	h, #0x00
      0000EE 29               [11]  299 	add	hl, hl
      0000EF 09               [11]  300 	add	hl, bc
      0000F0 5E               [ 7]  301 	ld	e, (hl)
      0000F1 23               [ 6]  302 	inc	hl
      0000F2 56               [ 7]  303 	ld	d, (hl)
      0000F3 13               [ 6]  304 	inc	de
      0000F4 13               [ 6]  305 	inc	de
      0000F5 13               [ 6]  306 	inc	de
      0000F6 13               [ 6]  307 	inc	de
      0000F7 DD 7E 07         [19]  308 	ld	a, 7 (ix)
      0000FA 12               [ 7]  309 	ld	(de), a
                           0000FB   310 	C$spriteengine.c$33$1_0$119	= .
                                    311 	.globl	C$spriteengine.c$33$1_0$119
                                    312 ;spriteengine.c:33: entitylist[entityIndex]->direction = RIGHT_DIRECTION;
      0000FB FD 6E 00         [19]  313 	ld	l, 0 (iy)
      0000FE 26 00            [ 7]  314 	ld	h, #0x00
      000100 29               [11]  315 	add	hl, hl
      000101 09               [11]  316 	add	hl, bc
      000102 5E               [ 7]  317 	ld	e, (hl)
      000103 23               [ 6]  318 	inc	hl
      000104 56               [ 7]  319 	ld	d, (hl)
      000105 21 05 00         [10]  320 	ld	hl, #0x0005
      000108 19               [11]  321 	add	hl, de
      000109 36 00            [10]  322 	ld	(hl), #0x00
                           00010B   323 	C$spriteengine.c$34$1_0$119	= .
                                    324 	.globl	C$spriteengine.c$34$1_0$119
                                    325 ;spriteengine.c:34: entitylist[entityIndex]->vramposition = entityVramPosition;
      00010B FD 6E 00         [19]  326 	ld	l, 0 (iy)
      00010E 26 00            [ 7]  327 	ld	h, #0x00
      000110 29               [11]  328 	add	hl, hl
      000111 09               [11]  329 	add	hl, bc
      000112 5E               [ 7]  330 	ld	e, (hl)
      000113 23               [ 6]  331 	inc	hl
      000114 56               [ 7]  332 	ld	d, (hl)
      000115 21 09 00         [10]  333 	ld	hl, #0x0009
      000118 19               [11]  334 	add	hl, de
      000119 FD 21r01r00      [14]  335 	ld	iy, #_entityVramPosition
      00011D FD 7E 00         [19]  336 	ld	a, 0 (iy)
      000120 77               [ 7]  337 	ld	(hl), a
      000121 23               [ 6]  338 	inc	hl
      000122 FD 7E 01         [19]  339 	ld	a, 1 (iy)
      000125 77               [ 7]  340 	ld	(hl), a
                           000126   341 	C$spriteengine.c$35$1_0$119	= .
                                    342 	.globl	C$spriteengine.c$35$1_0$119
                                    343 ;spriteengine.c:35: entityVramPosition = entityVramPosition + characterData->maxsprites;
      000126 DD 6E 04         [19]  344 	ld	l, 4 (ix)
      000129 DD 66 05         [19]  345 	ld	h, 5 (ix)
      00012C 23               [ 6]  346 	inc	hl
      00012D 5E               [ 7]  347 	ld	e, (hl)
      00012E 16 00            [ 7]  348 	ld	d, #0x00
      000130 21r01r00         [10]  349 	ld	hl, #_entityVramPosition
      000133 7E               [ 7]  350 	ld	a, (hl)
      000134 83               [ 4]  351 	add	a, e
      000135 77               [ 7]  352 	ld	(hl), a
      000136 23               [ 6]  353 	inc	hl
      000137 7E               [ 7]  354 	ld	a, (hl)
      000138 8A               [ 4]  355 	adc	a, d
      000139 77               [ 7]  356 	ld	(hl), a
                           00013A   357 	C$spriteengine.c$36$1_0$119	= .
                                    358 	.globl	C$spriteengine.c$36$1_0$119
                                    359 ;spriteengine.c:36: entityIndex++;
      00013A FD 21r00r00      [14]  360 	ld	iy, #_entityIndex
      00013E FD 34 00         [23]  361 	inc	0 (iy)
                           000141   362 	C$spriteengine.c$37$1_0$119	= .
                                    363 	.globl	C$spriteengine.c$37$1_0$119
                                    364 ;spriteengine.c:37: return entitylist[entityIndex - 1];
      000141 FD 7E 00         [19]  365 	ld	a, 0 (iy)
      000144 3D               [ 4]  366 	dec	a
      000145 6F               [ 4]  367 	ld	l, a
      000146 17               [ 4]  368 	rla
      000147 9F               [ 4]  369 	sbc	a, a
      000148 67               [ 4]  370 	ld	h, a
      000149 29               [11]  371 	add	hl, hl
      00014A 09               [11]  372 	add	hl, bc
      00014B 5E               [ 7]  373 	ld	e, (hl)
      00014C 23               [ 6]  374 	inc	hl
      00014D 56               [ 7]  375 	ld	d, (hl)
      00014E EB               [ 4]  376 	ex	de, hl
                           00014F   377 	C$spriteengine.c$38$1_0$119	= .
                                    378 	.globl	C$spriteengine.c$38$1_0$119
                                    379 ;spriteengine.c:38: }
      00014F DD E1            [14]  380 	pop	ix
                           000151   381 	C$spriteengine.c$38$1_0$119	= .
                                    382 	.globl	C$spriteengine.c$38$1_0$119
                           000151   383 	XG$addEntity$0$0	= .
                                    384 	.globl	XG$addEntity$0$0
      000151 C9               [10]  385 	ret
                           000152   386 	G$setAnimation$0$0	= .
                                    387 	.globl	G$setAnimation$0$0
                           000152   388 	C$spriteengine.c$40$1_0$121	= .
                                    389 	.globl	C$spriteengine.c$40$1_0$121
                                    390 ;spriteengine.c:40: void setAnimation(unsigned char entitynumber, int animationNumber)
                                    391 ;	---------------------------------
                                    392 ; Function setAnimation
                                    393 ; ---------------------------------
      000152                        394 _setAnimation::
      000152 DD E5            [15]  395 	push	ix
      000154 DD 21 00 00      [14]  396 	ld	ix,#0
      000158 DD 39            [15]  397 	add	ix,sp
                           00015A   398 	C$spriteengine.c$42$1_0$121	= .
                                    399 	.globl	C$spriteengine.c$42$1_0$121
                                    400 ;spriteengine.c:42: if(entitylist[entitynumber]->currentAnimation != animationNumber)
      00015A 01r00r00         [10]  401 	ld	bc, #_entitylist+0
      00015D DD 6E 04         [19]  402 	ld	l, 4 (ix)
      000160 26 00            [ 7]  403 	ld	h, #0x00
      000162 29               [11]  404 	add	hl, hl
      000163 09               [11]  405 	add	hl, bc
      000164 5D               [ 4]  406 	ld	e, l
      000165 54               [ 4]  407 	ld	d, h
      000166 4E               [ 7]  408 	ld	c, (hl)
      000167 23               [ 6]  409 	inc	hl
      000168 46               [ 7]  410 	ld	b, (hl)
      000169 69               [ 4]  411 	ld	l, c
      00016A 60               [ 4]  412 	ld	h, b
      00016B C5               [11]  413 	push	bc
      00016C 01 06 00         [10]  414 	ld	bc, #0x0006
      00016F 09               [11]  415 	add	hl, bc
      000170 C1               [10]  416 	pop	bc
      000171 26 00            [ 7]  417 	ld	h, #0x00
      000173 7E               [ 7]  418 	ld	a, (hl)
      000174 DD 96 05         [19]  419 	sub	a, 5 (ix)
      000177 20 06            [12]  420 	jr	NZ, 00110$
      000179 7C               [ 4]  421 	ld	a, h
      00017A DD 96 06         [19]  422 	sub	a, 6 (ix)
      00017D 28 06            [12]  423 	jr	Z, 00102$
      00017F                        424 00110$:
                           00017F   425 	C$spriteengine.c$44$2_0$122	= .
                                    426 	.globl	C$spriteengine.c$44$2_0$122
                                    427 ;spriteengine.c:44: entitylist[entitynumber]->has2ReloadTiles = true;	
      00017F 21 0B 00         [10]  428 	ld	hl, #0x000b
      000182 09               [11]  429 	add	hl, bc
      000183 36 01            [10]  430 	ld	(hl), #0x01
      000185                        431 00102$:
                           000185   432 	C$spriteengine.c$46$1_0$121	= .
                                    433 	.globl	C$spriteengine.c$46$1_0$121
                                    434 ;spriteengine.c:46: entitylist[entitynumber]->currentAnimation = animationNumber;
      000185 6B               [ 4]  435 	ld	l, e
      000186 62               [ 4]  436 	ld	h, d
      000187 4E               [ 7]  437 	ld	c, (hl)
      000188 23               [ 6]  438 	inc	hl
      000189 46               [ 7]  439 	ld	b, (hl)
      00018A 21 06 00         [10]  440 	ld	hl, #0x0006
      00018D 09               [11]  441 	add	hl, bc
      00018E DD 7E 05         [19]  442 	ld	a, 5 (ix)
      000191 77               [ 7]  443 	ld	(hl), a
                           000192   444 	C$spriteengine.c$47$1_0$121	= .
                                    445 	.globl	C$spriteengine.c$47$1_0$121
                                    446 ;spriteengine.c:47: entitylist[entitynumber]->frameEnded = false;
      000192 6B               [ 4]  447 	ld	l, e
      000193 62               [ 4]  448 	ld	h, d
      000194 4E               [ 7]  449 	ld	c, (hl)
      000195 23               [ 6]  450 	inc	hl
      000196 46               [ 7]  451 	ld	b, (hl)
      000197 21 0D 00         [10]  452 	ld	hl, #0x000d
      00019A 09               [11]  453 	add	hl, bc
      00019B 36 00            [10]  454 	ld	(hl), #0x00
                           00019D   455 	C$spriteengine.c$48$1_0$121	= .
                                    456 	.globl	C$spriteengine.c$48$1_0$121
                                    457 ;spriteengine.c:48: entitylist[entitynumber]->animationEnded = false;
      00019D 6B               [ 4]  458 	ld	l, e
      00019E 62               [ 4]  459 	ld	h, d
      00019F 4E               [ 7]  460 	ld	c, (hl)
      0001A0 23               [ 6]  461 	inc	hl
      0001A1 46               [ 7]  462 	ld	b, (hl)
      0001A2 21 0C 00         [10]  463 	ld	hl, #0x000c
      0001A5 09               [11]  464 	add	hl, bc
      0001A6 36 00            [10]  465 	ld	(hl), #0x00
                           0001A8   466 	C$spriteengine.c$49$1_0$121	= .
                                    467 	.globl	C$spriteengine.c$49$1_0$121
                                    468 ;spriteengine.c:49: entitylist[entitynumber]->currentFrame = 0;
      0001A8 6B               [ 4]  469 	ld	l, e
      0001A9 62               [ 4]  470 	ld	h, d
      0001AA 4E               [ 7]  471 	ld	c, (hl)
      0001AB 23               [ 6]  472 	inc	hl
      0001AC 46               [ 7]  473 	ld	b, (hl)
      0001AD 21 07 00         [10]  474 	ld	hl, #0x0007
      0001B0 09               [11]  475 	add	hl, bc
      0001B1 36 00            [10]  476 	ld	(hl), #0x00
                           0001B3   477 	C$spriteengine.c$50$1_0$121	= .
                                    478 	.globl	C$spriteengine.c$50$1_0$121
                                    479 ;spriteengine.c:50: entitylist[entitynumber]->framecnt = 0;	
      0001B3 EB               [ 4]  480 	ex	de,hl
      0001B4 4E               [ 7]  481 	ld	c, (hl)
      0001B5 23               [ 6]  482 	inc	hl
      0001B6 46               [ 7]  483 	ld	b, (hl)
      0001B7 21 08 00         [10]  484 	ld	hl, #0x0008
      0001BA 09               [11]  485 	add	hl, bc
      0001BB 36 00            [10]  486 	ld	(hl), #0x00
                           0001BD   487 	C$spriteengine.c$51$1_0$121	= .
                                    488 	.globl	C$spriteengine.c$51$1_0$121
                                    489 ;spriteengine.c:51: }
      0001BD DD E1            [14]  490 	pop	ix
                           0001BF   491 	C$spriteengine.c$51$1_0$121	= .
                                    492 	.globl	C$spriteengine.c$51$1_0$121
                           0001BF   493 	XG$setAnimation$0$0	= .
                                    494 	.globl	XG$setAnimation$0$0
      0001BF C9               [10]  495 	ret
                           0001C0   496 	G$forceReload$0$0	= .
                                    497 	.globl	G$forceReload$0$0
                           0001C0   498 	C$spriteengine.c$53$1_0$124	= .
                                    499 	.globl	C$spriteengine.c$53$1_0$124
                                    500 ;spriteengine.c:53: void forceReload(unsigned char entitynumber)
                                    501 ;	---------------------------------
                                    502 ; Function forceReload
                                    503 ; ---------------------------------
      0001C0                        504 _forceReload::
      0001C0 DD E5            [15]  505 	push	ix
      0001C2 DD 21 00 00      [14]  506 	ld	ix,#0
      0001C6 DD 39            [15]  507 	add	ix,sp
                           0001C8   508 	C$spriteengine.c$55$1_0$124	= .
                                    509 	.globl	C$spriteengine.c$55$1_0$124
                                    510 ;spriteengine.c:55: entitylist[entitynumber]->has2ReloadTiles = true;
      0001C8 01r00r00         [10]  511 	ld	bc, #_entitylist+0
      0001CB DD 6E 04         [19]  512 	ld	l, 4 (ix)
      0001CE 26 00            [ 7]  513 	ld	h, #0x00
      0001D0 29               [11]  514 	add	hl, hl
      0001D1 09               [11]  515 	add	hl, bc
      0001D2 4E               [ 7]  516 	ld	c, (hl)
      0001D3 23               [ 6]  517 	inc	hl
      0001D4 46               [ 7]  518 	ld	b, (hl)
      0001D5 21 0B 00         [10]  519 	ld	hl, #0x000b
      0001D8 09               [11]  520 	add	hl, bc
      0001D9 36 01            [10]  521 	ld	(hl), #0x01
                           0001DB   522 	C$spriteengine.c$56$1_0$124	= .
                                    523 	.globl	C$spriteengine.c$56$1_0$124
                                    524 ;spriteengine.c:56: }
      0001DB DD E1            [14]  525 	pop	ix
                           0001DD   526 	C$spriteengine.c$56$1_0$124	= .
                                    527 	.globl	C$spriteengine.c$56$1_0$124
                           0001DD   528 	XG$forceReload$0$0	= .
                                    529 	.globl	XG$forceReload$0$0
      0001DD C9               [10]  530 	ret
                           0001DE   531 	G$isFrameEnded$0$0	= .
                                    532 	.globl	G$isFrameEnded$0$0
                           0001DE   533 	C$spriteengine.c$58$1_0$126	= .
                                    534 	.globl	C$spriteengine.c$58$1_0$126
                                    535 ;spriteengine.c:58: bool isFrameEnded(unsigned char entitynumber)
                                    536 ;	---------------------------------
                                    537 ; Function isFrameEnded
                                    538 ; ---------------------------------
      0001DE                        539 _isFrameEnded::
      0001DE DD E5            [15]  540 	push	ix
      0001E0 DD 21 00 00      [14]  541 	ld	ix,#0
      0001E4 DD 39            [15]  542 	add	ix,sp
                           0001E6   543 	C$spriteengine.c$60$1_0$126	= .
                                    544 	.globl	C$spriteengine.c$60$1_0$126
                                    545 ;spriteengine.c:60: return entitylist[entitynumber]->frameEnded;
      0001E6 DD 6E 04         [19]  546 	ld	l, 4 (ix)
      0001E9 26 00            [ 7]  547 	ld	h, #0x00
      0001EB 29               [11]  548 	add	hl, hl
      0001EC 11r00r00         [10]  549 	ld	de, #_entitylist
      0001EF 19               [11]  550 	add	hl, de
      0001F0 4E               [ 7]  551 	ld	c, (hl)
      0001F1 23               [ 6]  552 	inc	hl
      0001F2 46               [ 7]  553 	ld	b, (hl)
      0001F3 21 0D 00         [10]  554 	ld	hl, #13
      0001F6 09               [11]  555 	add	hl, bc
      0001F7 6E               [ 7]  556 	ld	l, (hl)
                           0001F8   557 	C$spriteengine.c$61$1_0$126	= .
                                    558 	.globl	C$spriteengine.c$61$1_0$126
                                    559 ;spriteengine.c:61: }
      0001F8 DD E1            [14]  560 	pop	ix
                           0001FA   561 	C$spriteengine.c$61$1_0$126	= .
                                    562 	.globl	C$spriteengine.c$61$1_0$126
                           0001FA   563 	XG$isFrameEnded$0$0	= .
                                    564 	.globl	XG$isFrameEnded$0$0
      0001FA C9               [10]  565 	ret
                           0001FB   566 	G$isAnimationEnded$0$0	= .
                                    567 	.globl	G$isAnimationEnded$0$0
                           0001FB   568 	C$spriteengine.c$63$1_0$128	= .
                                    569 	.globl	C$spriteengine.c$63$1_0$128
                                    570 ;spriteengine.c:63: bool isAnimationEnded(unsigned char entitynumber)
                                    571 ;	---------------------------------
                                    572 ; Function isAnimationEnded
                                    573 ; ---------------------------------
      0001FB                        574 _isAnimationEnded::
      0001FB DD E5            [15]  575 	push	ix
      0001FD DD 21 00 00      [14]  576 	ld	ix,#0
      000201 DD 39            [15]  577 	add	ix,sp
                           000203   578 	C$spriteengine.c$65$1_0$128	= .
                                    579 	.globl	C$spriteengine.c$65$1_0$128
                                    580 ;spriteengine.c:65: return entitylist[entitynumber]->animationEnded;
      000203 DD 6E 04         [19]  581 	ld	l, 4 (ix)
      000206 26 00            [ 7]  582 	ld	h, #0x00
      000208 29               [11]  583 	add	hl, hl
      000209 11r00r00         [10]  584 	ld	de, #_entitylist
      00020C 19               [11]  585 	add	hl, de
      00020D 4E               [ 7]  586 	ld	c, (hl)
      00020E 23               [ 6]  587 	inc	hl
      00020F 46               [ 7]  588 	ld	b, (hl)
      000210 21 0C 00         [10]  589 	ld	hl, #12
      000213 09               [11]  590 	add	hl, bc
      000214 6E               [ 7]  591 	ld	l, (hl)
                           000215   592 	C$spriteengine.c$66$1_0$128	= .
                                    593 	.globl	C$spriteengine.c$66$1_0$128
                                    594 ;spriteengine.c:66: }
      000215 DD E1            [14]  595 	pop	ix
                           000217   596 	C$spriteengine.c$66$1_0$128	= .
                                    597 	.globl	C$spriteengine.c$66$1_0$128
                           000217   598 	XG$isAnimationEnded$0$0	= .
                                    599 	.globl	XG$isAnimationEnded$0$0
      000217 C9               [10]  600 	ret
                           000218   601 	G$setDirection$0$0	= .
                                    602 	.globl	G$setDirection$0$0
                           000218   603 	C$spriteengine.c$68$1_0$130	= .
                                    604 	.globl	C$spriteengine.c$68$1_0$130
                                    605 ;spriteengine.c:68: void setDirection(unsigned char entitynumber, unsigned char direction)
                                    606 ;	---------------------------------
                                    607 ; Function setDirection
                                    608 ; ---------------------------------
      000218                        609 _setDirection::
      000218 DD E5            [15]  610 	push	ix
      00021A DD 21 00 00      [14]  611 	ld	ix,#0
      00021E DD 39            [15]  612 	add	ix,sp
                           000220   613 	C$spriteengine.c$70$1_0$130	= .
                                    614 	.globl	C$spriteengine.c$70$1_0$130
                                    615 ;spriteengine.c:70: entitylist[entitynumber]->direction = direction;
      000220 01r00r00         [10]  616 	ld	bc, #_entitylist+0
      000223 DD 6E 04         [19]  617 	ld	l, 4 (ix)
      000226 26 00            [ 7]  618 	ld	h, #0x00
      000228 29               [11]  619 	add	hl, hl
      000229 09               [11]  620 	add	hl, bc
      00022A 5D               [ 4]  621 	ld	e, l
      00022B 54               [ 4]  622 	ld	d, h
      00022C 4E               [ 7]  623 	ld	c, (hl)
      00022D 23               [ 6]  624 	inc	hl
      00022E 46               [ 7]  625 	ld	b, (hl)
      00022F 21 05 00         [10]  626 	ld	hl, #0x0005
      000232 09               [11]  627 	add	hl, bc
      000233 DD 7E 05         [19]  628 	ld	a, 5 (ix)
      000236 77               [ 7]  629 	ld	(hl), a
                           000237   630 	C$spriteengine.c$71$1_0$130	= .
                                    631 	.globl	C$spriteengine.c$71$1_0$130
                                    632 ;spriteengine.c:71: entitylist[entitynumber]->has2ReloadTiles = true;
      000237 EB               [ 4]  633 	ex	de,hl
      000238 4E               [ 7]  634 	ld	c, (hl)
      000239 23               [ 6]  635 	inc	hl
      00023A 46               [ 7]  636 	ld	b, (hl)
      00023B 21 0B 00         [10]  637 	ld	hl, #0x000b
      00023E 09               [11]  638 	add	hl, bc
      00023F 36 01            [10]  639 	ld	(hl), #0x01
                           000241   640 	C$spriteengine.c$72$1_0$130	= .
                                    641 	.globl	C$spriteengine.c$72$1_0$130
                                    642 ;spriteengine.c:72: }
      000241 DD E1            [14]  643 	pop	ix
                           000243   644 	C$spriteengine.c$72$1_0$130	= .
                                    645 	.globl	C$spriteengine.c$72$1_0$130
                           000243   646 	XG$setDirection$0$0	= .
                                    647 	.globl	XG$setDirection$0$0
      000243 C9               [10]  648 	ret
                           000244   649 	G$updateAnimations$0$0	= .
                                    650 	.globl	G$updateAnimations$0$0
                           000244   651 	C$spriteengine.c$74$1_0$132	= .
                                    652 	.globl	C$spriteengine.c$74$1_0$132
                                    653 ;spriteengine.c:74: void updateAnimations()
                                    654 ;	---------------------------------
                                    655 ; Function updateAnimations
                                    656 ; ---------------------------------
      000244                        657 _updateAnimations::
      000244 DD E5            [15]  658 	push	ix
      000246 DD 21 00 00      [14]  659 	ld	ix,#0
      00024A DD 39            [15]  660 	add	ix,sp
      00024C 21 F9 FF         [10]  661 	ld	hl, #-7
      00024F 39               [11]  662 	add	hl, sp
      000250 F9               [ 6]  663 	ld	sp, hl
                           000251   664 	C$spriteengine.c$77$3_0$133	= .
                                    665 	.globl	C$spriteengine.c$77$3_0$133
                                    666 ;spriteengine.c:77: for(i = 0;i < entityIndex; i++)
      000251 01 00 00         [10]  667 	ld	bc, #0x0000
      000254                        668 00108$:
      000254 3Ar00r00         [13]  669 	ld	a, (#_entityIndex + 0)
      000257 5F               [ 4]  670 	ld	e, a
      000258 16 00            [ 7]  671 	ld	d, #0x00
      00025A 79               [ 4]  672 	ld	a, c
      00025B 93               [ 4]  673 	sub	a, e
      00025C 78               [ 4]  674 	ld	a, b
      00025D 9A               [ 4]  675 	sbc	a, d
      00025E E2r63r02         [10]  676 	jp	PO, 00133$
      000261 EE 80            [ 7]  677 	xor	a, #0x80
      000263                        678 00133$:
      000263 F2r9Cr03         [10]  679 	jp	P, 00110$
                           000266   680 	C$spriteengine.c$79$2_0$132	= .
                                    681 	.globl	C$spriteengine.c$79$2_0$132
                                    682 ;spriteengine.c:79: entitylist[i]->framecnt++;
      000266 69               [ 4]  683 	ld	l, c
      000267 60               [ 4]  684 	ld	h, b
      000268 29               [11]  685 	add	hl, hl
      000269 7D               [ 4]  686 	ld	a, l
      00026A C6r00            [ 7]  687 	add	a, #<(_entitylist)
      00026C DD 77 F9         [19]  688 	ld	-7 (ix), a
      00026F 7C               [ 4]  689 	ld	a, h
      000270 CEs00            [ 7]  690 	adc	a, #>(_entitylist)
      000272 DD 77 FA         [19]  691 	ld	-6 (ix), a
      000275 E1               [10]  692 	pop	hl
      000276 E5               [11]  693 	push	hl
      000277 5E               [ 7]  694 	ld	e, (hl)
      000278 23               [ 6]  695 	inc	hl
      000279 56               [ 7]  696 	ld	d, (hl)
      00027A 21 08 00         [10]  697 	ld	hl, #0x0008
      00027D 19               [11]  698 	add	hl, de
      00027E 34               [11]  699 	inc	(hl)
                           00027F   700 	C$spriteengine.c$80$3_0$133	= .
                                    701 	.globl	C$spriteengine.c$80$3_0$133
                                    702 ;spriteengine.c:80: if(entitylist[i]->framecnt > entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].frame_time)
      00027F E1               [10]  703 	pop	hl
      000280 E5               [11]  704 	push	hl
      000281 7E               [ 7]  705 	ld	a, (hl)
      000282 DD 77 FD         [19]  706 	ld	-3 (ix), a
      000285 23               [ 6]  707 	inc	hl
      000286 7E               [ 7]  708 	ld	a, (hl)
      000287 DD 77 FE         [19]  709 	ld	-2 (ix), a
      00028A DD 5E FD         [19]  710 	ld	e, -3 (ix)
      00028D DD 56 FE         [19]  711 	ld	d, -2 (ix)
      000290 21 08 00         [10]  712 	ld	hl, #8
      000293 19               [11]  713 	add	hl, de
      000294 7E               [ 7]  714 	ld	a, (hl)
      000295 DD 77 FF         [19]  715 	ld	-1 (ix), a
      000298 DD 6E FD         [19]  716 	ld	l, -3 (ix)
      00029B DD 66 FE         [19]  717 	ld	h, -2 (ix)
      00029E 5E               [ 7]  718 	ld	e, (hl)
      00029F 23               [ 6]  719 	inc	hl
      0002A0 56               [ 7]  720 	ld	d, (hl)
      0002A1 13               [ 6]  721 	inc	de
      0002A2 13               [ 6]  722 	inc	de
      0002A3 DD 6E FD         [19]  723 	ld	l, -3 (ix)
      0002A6 DD 66 FE         [19]  724 	ld	h, -2 (ix)
      0002A9 C5               [11]  725 	push	bc
      0002AA 01 06 00         [10]  726 	ld	bc, #0x0006
      0002AD 09               [11]  727 	add	hl, bc
      0002AE C1               [10]  728 	pop	bc
      0002AF 6E               [ 7]  729 	ld	l, (hl)
      0002B0 26 00            [ 7]  730 	ld	h, #0x00
      0002B2 D5               [11]  731 	push	de
      0002B3 5D               [ 4]  732 	ld	e, l
      0002B4 54               [ 4]  733 	ld	d, h
      0002B5 29               [11]  734 	add	hl, hl
      0002B6 29               [11]  735 	add	hl, hl
      0002B7 19               [11]  736 	add	hl, de
      0002B8 29               [11]  737 	add	hl, hl
      0002B9 29               [11]  738 	add	hl, hl
      0002BA 29               [11]  739 	add	hl, hl
      0002BB 29               [11]  740 	add	hl, hl
      0002BC 19               [11]  741 	add	hl, de
      0002BD 29               [11]  742 	add	hl, hl
      0002BE 19               [11]  743 	add	hl, de
      0002BF 29               [11]  744 	add	hl, hl
      0002C0 29               [11]  745 	add	hl, hl
      0002C1 D1               [10]  746 	pop	de
      0002C2 19               [11]  747 	add	hl, de
      0002C3 EB               [ 4]  748 	ex	de, hl
      0002C4 13               [ 6]  749 	inc	de
      0002C5 13               [ 6]  750 	inc	de
      0002C6 DD 6E FD         [19]  751 	ld	l, -3 (ix)
      0002C9 DD 66 FE         [19]  752 	ld	h, -2 (ix)
      0002CC C5               [11]  753 	push	bc
      0002CD 01 07 00         [10]  754 	ld	bc, #0x0007
      0002D0 09               [11]  755 	add	hl, bc
      0002D1 C1               [10]  756 	pop	bc
      0002D2 7E               [ 7]  757 	ld	a, (hl)
      0002D3 D5               [11]  758 	push	de
      0002D4 5F               [ 4]  759 	ld	e, a
      0002D5 16 00            [ 7]  760 	ld	d, #0x00
      0002D7 6B               [ 4]  761 	ld	l, e
      0002D8 62               [ 4]  762 	ld	h, d
      0002D9 29               [11]  763 	add	hl, hl
      0002DA 29               [11]  764 	add	hl, hl
      0002DB 29               [11]  765 	add	hl, hl
      0002DC 29               [11]  766 	add	hl, hl
      0002DD 29               [11]  767 	add	hl, hl
      0002DE 29               [11]  768 	add	hl, hl
      0002DF 19               [11]  769 	add	hl, de
      0002E0 D1               [10]  770 	pop	de
      0002E1 19               [11]  771 	add	hl, de
      0002E2 11 08 00         [10]  772 	ld	de, #0x0008
      0002E5 19               [11]  773 	add	hl, de
      0002E6 7E               [ 7]  774 	ld	a, (hl)
      0002E7 DD 96 FF         [19]  775 	sub	a, -1 (ix)
      0002EA D2r98r03         [10]  776 	jp	NC, 00109$
                           0002ED   777 	C$spriteengine.c$82$4_0$134	= .
                                    778 	.globl	C$spriteengine.c$82$4_0$134
                                    779 ;spriteengine.c:82: entitylist[i]->frameEnded = true;
      0002ED DD 6E FD         [19]  780 	ld	l, -3 (ix)
      0002F0 DD 66 FE         [19]  781 	ld	h, -2 (ix)
      0002F3 11 0D 00         [10]  782 	ld	de, #0x000d
      0002F6 19               [11]  783 	add	hl, de
      0002F7 36 01            [10]  784 	ld	(hl), #0x01
                           0002F9   785 	C$spriteengine.c$83$4_0$134	= .
                                    786 	.globl	C$spriteengine.c$83$4_0$134
                                    787 ;spriteengine.c:83: if(entitylist[i]->currentFrame < entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].numframes - 1) { //tenir en compte els mirrored!
      0002F9 E1               [10]  788 	pop	hl
      0002FA E5               [11]  789 	push	hl
      0002FB 7E               [ 7]  790 	ld	a, (hl)
      0002FC DD 77 FB         [19]  791 	ld	-5 (ix), a
      0002FF 23               [ 6]  792 	inc	hl
      000300 7E               [ 7]  793 	ld	a, (hl)
      000301 DD 77 FC         [19]  794 	ld	-4 (ix), a
      000304 DD 7E FB         [19]  795 	ld	a, -5 (ix)
      000307 C6 07            [ 7]  796 	add	a, #0x07
      000309 DD 77 FD         [19]  797 	ld	-3 (ix), a
      00030C DD 7E FC         [19]  798 	ld	a, -4 (ix)
      00030F CE 00            [ 7]  799 	adc	a, #0x00
      000311 DD 77 FE         [19]  800 	ld	-2 (ix), a
      000314 DD 6E FD         [19]  801 	ld	l, -3 (ix)
      000317 DD 66 FE         [19]  802 	ld	h, -2 (ix)
      00031A 7E               [ 7]  803 	ld	a, (hl)
      00031B DD 77 FF         [19]  804 	ld	-1 (ix), a
      00031E DD 6E FB         [19]  805 	ld	l, -5 (ix)
      000321 DD 66 FC         [19]  806 	ld	h, -4 (ix)
      000324 5E               [ 7]  807 	ld	e, (hl)
      000325 23               [ 6]  808 	inc	hl
      000326 56               [ 7]  809 	ld	d, (hl)
      000327 13               [ 6]  810 	inc	de
      000328 13               [ 6]  811 	inc	de
      000329 DD 6E FB         [19]  812 	ld	l, -5 (ix)
      00032C DD 66 FC         [19]  813 	ld	h, -4 (ix)
      00032F C5               [11]  814 	push	bc
      000330 01 06 00         [10]  815 	ld	bc, #0x0006
      000333 09               [11]  816 	add	hl, bc
      000334 C1               [10]  817 	pop	bc
      000335 6E               [ 7]  818 	ld	l, (hl)
      000336 26 00            [ 7]  819 	ld	h, #0x00
      000338 D5               [11]  820 	push	de
      000339 5D               [ 4]  821 	ld	e, l
      00033A 54               [ 4]  822 	ld	d, h
      00033B 29               [11]  823 	add	hl, hl
      00033C 29               [11]  824 	add	hl, hl
      00033D 19               [11]  825 	add	hl, de
      00033E 29               [11]  826 	add	hl, hl
      00033F 29               [11]  827 	add	hl, hl
      000340 29               [11]  828 	add	hl, hl
      000341 29               [11]  829 	add	hl, hl
      000342 19               [11]  830 	add	hl, de
      000343 29               [11]  831 	add	hl, hl
      000344 19               [11]  832 	add	hl, de
      000345 29               [11]  833 	add	hl, hl
      000346 29               [11]  834 	add	hl, hl
      000347 D1               [10]  835 	pop	de
      000348 19               [11]  836 	add	hl, de
      000349 23               [ 6]  837 	inc	hl
      00034A 5E               [ 7]  838 	ld	e, (hl)
      00034B 16 00            [ 7]  839 	ld	d, #0x00
      00034D 1B               [ 6]  840 	dec	de
      00034E DD 7E FF         [19]  841 	ld	a, -1 (ix)
      000351 26 00            [ 7]  842 	ld	h, #0x00
      000353 93               [ 4]  843 	sub	a, e
      000354 7C               [ 4]  844 	ld	a, h
      000355 9A               [ 4]  845 	sbc	a, d
      000356 E2r5Br03         [10]  846 	jp	PO, 00134$
      000359 EE 80            [ 7]  847 	xor	a, #0x80
      00035B                        848 00134$:
      00035B F2r76r03         [10]  849 	jp	P, 00102$
                           00035E   850 	C$spriteengine.c$84$5_0$135	= .
                                    851 	.globl	C$spriteengine.c$84$5_0$135
                                    852 ;spriteengine.c:84: entitylist[i]->currentFrame++;
      00035E DD 7E FF         [19]  853 	ld	a, -1 (ix)
      000361 3C               [ 4]  854 	inc	a
      000362 DD 6E FD         [19]  855 	ld	l, -3 (ix)
      000365 DD 66 FE         [19]  856 	ld	h, -2 (ix)
      000368 77               [ 7]  857 	ld	(hl), a
                           000369   858 	C$spriteengine.c$85$5_0$135	= .
                                    859 	.globl	C$spriteengine.c$85$5_0$135
                                    860 ;spriteengine.c:85: entitylist[i]->has2ReloadTiles = true;
      000369 E1               [10]  861 	pop	hl
      00036A E5               [11]  862 	push	hl
      00036B 5E               [ 7]  863 	ld	e, (hl)
      00036C 23               [ 6]  864 	inc	hl
      00036D 56               [ 7]  865 	ld	d, (hl)
      00036E 21 0B 00         [10]  866 	ld	hl, #0x000b
      000371 19               [11]  867 	add	hl, de
      000372 36 01            [10]  868 	ld	(hl), #0x01
      000374 18 17            [12]  869 	jr	00103$
      000376                        870 00102$:
                           000376   871 	C$spriteengine.c$89$5_0$136	= .
                                    872 	.globl	C$spriteengine.c$89$5_0$136
                                    873 ;spriteengine.c:89: entitylist[i]->animationEnded = true;
      000376 DD 6E FB         [19]  874 	ld	l, -5 (ix)
      000379 DD 66 FC         [19]  875 	ld	h, -4 (ix)
      00037C 11 0C 00         [10]  876 	ld	de, #0x000c
      00037F 19               [11]  877 	add	hl, de
      000380 36 01            [10]  878 	ld	(hl), #0x01
                           000382   879 	C$spriteengine.c$90$5_0$136	= .
                                    880 	.globl	C$spriteengine.c$90$5_0$136
                                    881 ;spriteengine.c:90: entitylist[i]->currentFrame = 0;
      000382 E1               [10]  882 	pop	hl
      000383 E5               [11]  883 	push	hl
      000384 5E               [ 7]  884 	ld	e, (hl)
      000385 23               [ 6]  885 	inc	hl
      000386 56               [ 7]  886 	ld	d, (hl)
      000387 21 07 00         [10]  887 	ld	hl, #0x0007
      00038A 19               [11]  888 	add	hl, de
      00038B 36 00            [10]  889 	ld	(hl), #0x00
      00038D                        890 00103$:
                           00038D   891 	C$spriteengine.c$92$4_0$134	= .
                                    892 	.globl	C$spriteengine.c$92$4_0$134
                                    893 ;spriteengine.c:92: entitylist[i]->framecnt = 0;
      00038D E1               [10]  894 	pop	hl
      00038E E5               [11]  895 	push	hl
      00038F 5E               [ 7]  896 	ld	e, (hl)
      000390 23               [ 6]  897 	inc	hl
      000391 56               [ 7]  898 	ld	d, (hl)
      000392 21 08 00         [10]  899 	ld	hl, #0x0008
      000395 19               [11]  900 	add	hl, de
      000396 36 00            [10]  901 	ld	(hl), #0x00
      000398                        902 00109$:
                           000398   903 	C$spriteengine.c$77$2_0$132	= .
                                    904 	.globl	C$spriteengine.c$77$2_0$132
                                    905 ;spriteengine.c:77: for(i = 0;i < entityIndex; i++)
      000398 03               [ 6]  906 	inc	bc
      000399 C3r54r02         [10]  907 	jp	00108$
      00039C                        908 00110$:
                           00039C   909 	C$spriteengine.c$95$2_0$132	= .
                                    910 	.globl	C$spriteengine.c$95$2_0$132
                                    911 ;spriteengine.c:95: }
      00039C DD F9            [10]  912 	ld	sp, ix
      00039E DD E1            [14]  913 	pop	ix
                           0003A0   914 	C$spriteengine.c$95$2_0$132	= .
                                    915 	.globl	C$spriteengine.c$95$2_0$132
                           0003A0   916 	XG$updateAnimations$0$0	= .
                                    917 	.globl	XG$updateAnimations$0$0
      0003A0 C9               [10]  918 	ret
                           0003A1   919 	G$updateTiles$0$0	= .
                                    920 	.globl	G$updateTiles$0$0
                           0003A1   921 	C$spriteengine.c$97$2_0$138	= .
                                    922 	.globl	C$spriteengine.c$97$2_0$138
                                    923 ;spriteengine.c:97: void updateTiles()
                                    924 ;	---------------------------------
                                    925 ; Function updateTiles
                                    926 ; ---------------------------------
      0003A1                        927 _updateTiles::
      0003A1 DD E5            [15]  928 	push	ix
      0003A3 DD 21 00 00      [14]  929 	ld	ix,#0
      0003A7 DD 39            [15]  930 	add	ix,sp
      0003A9 21 F8 FF         [10]  931 	ld	hl, #-8
      0003AC 39               [11]  932 	add	hl, sp
      0003AD F9               [ 6]  933 	ld	sp, hl
                           0003AE   934 	C$spriteengine.c$100$3_0$139	= .
                                    935 	.globl	C$spriteengine.c$100$3_0$139
                                    936 ;spriteengine.c:100: for(i = 0;i < entityIndex; i++)
      0003AE AF               [ 4]  937 	xor	a, a
      0003AF DD 77 FE         [19]  938 	ld	-2 (ix), a
      0003B2 DD 77 FF         [19]  939 	ld	-1 (ix), a
      0003B5                        940 00108$:
      0003B5 3Ar00r00         [13]  941 	ld	a, (#_entityIndex + 0)
      0003B8 4F               [ 4]  942 	ld	c, a
      0003B9 06 00            [ 7]  943 	ld	b, #0x00
      0003BB DD 7E FE         [19]  944 	ld	a, -2 (ix)
      0003BE 91               [ 4]  945 	sub	a, c
      0003BF DD 7E FF         [19]  946 	ld	a, -1 (ix)
      0003C2 98               [ 4]  947 	sbc	a, b
      0003C3 E2rC8r03         [10]  948 	jp	PO, 00133$
      0003C6 EE 80            [ 7]  949 	xor	a, #0x80
      0003C8                        950 00133$:
      0003C8 F2r87r05         [10]  951 	jp	P, 00110$
                           0003CB   952 	C$spriteengine.c$102$2_0$138	= .
                                    953 	.globl	C$spriteengine.c$102$2_0$138
                                    954 ;spriteengine.c:102: if(entitylist[i]->has2ReloadTiles)
      0003CB DD 7E FE         [19]  955 	ld	a, -2 (ix)
      0003CE DD 77 FC         [19]  956 	ld	-4 (ix), a
      0003D1 DD 7E FF         [19]  957 	ld	a, -1 (ix)
      0003D4 DD 77 FD         [19]  958 	ld	-3 (ix), a
      0003D7 DD CB FC 26      [23]  959 	sla	-4 (ix)
      0003DB DD CB FD 16      [23]  960 	rl	-3 (ix)
      0003DF DD 7E FC         [19]  961 	ld	a, -4 (ix)
      0003E2 C6r00            [ 7]  962 	add	a, #<(_entitylist)
      0003E4 DD 77 F8         [19]  963 	ld	-8 (ix), a
      0003E7 DD 7E FD         [19]  964 	ld	a, -3 (ix)
      0003EA CEs00            [ 7]  965 	adc	a, #>(_entitylist)
      0003EC DD 77 F9         [19]  966 	ld	-7 (ix), a
      0003EF E1               [10]  967 	pop	hl
      0003F0 E5               [11]  968 	push	hl
      0003F1 7E               [ 7]  969 	ld	a, (hl)
      0003F2 DD 77 FC         [19]  970 	ld	-4 (ix), a
      0003F5 23               [ 6]  971 	inc	hl
      0003F6 7E               [ 7]  972 	ld	a, (hl)
      0003F7 DD 77 FD         [19]  973 	ld	-3 (ix), a
      0003FA DD 4E FC         [19]  974 	ld	c, -4 (ix)
      0003FD DD 46 FD         [19]  975 	ld	b, -3 (ix)
      000400 21 0B 00         [10]  976 	ld	hl, #11
      000403 09               [11]  977 	add	hl, bc
      000404 CB 46            [12]  978 	bit	0, (hl)
      000406 CAr7Br05         [10]  979 	jp	Z, 00109$
                           000409   980 	C$spriteengine.c$104$4_0$140	= .
                                    981 	.globl	C$spriteengine.c$104$4_0$140
                                    982 ;spriteengine.c:104: if(entitylist[i]->direction == RIGHT_DIRECTION)
      000409 DD 4E FC         [19]  983 	ld	c, -4 (ix)
      00040C DD 46 FD         [19]  984 	ld	b, -3 (ix)
      00040F 21 05 00         [10]  985 	ld	hl, #5
      000412 09               [11]  986 	add	hl, bc
      000413 4E               [ 7]  987 	ld	c, (hl)
                           000414   988 	C$spriteengine.c$106$2_0$138	= .
                                    989 	.globl	C$spriteengine.c$106$2_0$138
                                    990 ;spriteengine.c:106: devkit_SMS_mapROMBank(entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].tile_bank);
      000414 DD 6E FC         [19]  991 	ld	l, -4 (ix)
      000417 DD 66 FD         [19]  992 	ld	h, -3 (ix)
      00041A 5E               [ 7]  993 	ld	e, (hl)
      00041B 23               [ 6]  994 	inc	hl
      00041C 56               [ 7]  995 	ld	d, (hl)
      00041D DD 6E FC         [19]  996 	ld	l, -4 (ix)
      000420 DD 66 FD         [19]  997 	ld	h, -3 (ix)
      000423 13               [ 6]  998 	inc	de
      000424 13               [ 6]  999 	inc	de
      000425 DD 73 FA         [19] 1000 	ld	-6 (ix), e
      000428 DD 72 FB         [19] 1001 	ld	-5 (ix), d
      00042B 11 06 00         [10] 1002 	ld	de, #0x0006
      00042E 19               [11] 1003 	add	hl, de
      00042F 7E               [ 7] 1004 	ld	a, (hl)
      000430 DD 6E FC         [19] 1005 	ld	l, -4 (ix)
      000433 DD 66 FD         [19] 1006 	ld	h, -3 (ix)
      000436 11 07 00         [10] 1007 	ld	de, #0x0007
      000439 19               [11] 1008 	add	hl, de
      00043A 46               [ 7] 1009 	ld	b, (hl)
      00043B 5F               [ 4] 1010 	ld	e, a
      00043C 16 00            [ 7] 1011 	ld	d, #0x00
      00043E D5               [11] 1012 	push	de
      00043F 58               [ 4] 1013 	ld	e, b
      000440 16 00            [ 7] 1014 	ld	d, #0x00
      000442 6B               [ 4] 1015 	ld	l, e
      000443 62               [ 4] 1016 	ld	h, d
      000444 29               [11] 1017 	add	hl, hl
      000445 29               [11] 1018 	add	hl, hl
      000446 29               [11] 1019 	add	hl, hl
      000447 29               [11] 1020 	add	hl, hl
      000448 29               [11] 1021 	add	hl, hl
      000449 29               [11] 1022 	add	hl, hl
      00044A 19               [11] 1023 	add	hl, de
      00044B D1               [10] 1024 	pop	de
      00044C DD 75 FC         [19] 1025 	ld	-4 (ix), l
      00044F DD 74 FD         [19] 1026 	ld	-3 (ix), h
      000452 6B               [ 4] 1027 	ld	l, e
      000453 62               [ 4] 1028 	ld	h, d
      000454 29               [11] 1029 	add	hl, hl
      000455 29               [11] 1030 	add	hl, hl
      000456 19               [11] 1031 	add	hl, de
      000457 29               [11] 1032 	add	hl, hl
      000458 29               [11] 1033 	add	hl, hl
      000459 29               [11] 1034 	add	hl, hl
      00045A 29               [11] 1035 	add	hl, hl
      00045B 19               [11] 1036 	add	hl, de
      00045C 29               [11] 1037 	add	hl, hl
      00045D 19               [11] 1038 	add	hl, de
      00045E 29               [11] 1039 	add	hl, hl
      00045F 29               [11] 1040 	add	hl, hl
      000460 DD 5E FA         [19] 1041 	ld	e, -6 (ix)
      000463 DD 56 FB         [19] 1042 	ld	d, -5 (ix)
      000466 19               [11] 1043 	add	hl, de
      000467 23               [ 6] 1044 	inc	hl
      000468 23               [ 6] 1045 	inc	hl
      000469 DD 5E FC         [19] 1046 	ld	e, -4 (ix)
      00046C DD 56 FD         [19] 1047 	ld	d, -3 (ix)
      00046F 19               [11] 1048 	add	hl, de
      000470 11 07 00         [10] 1049 	ld	de, #0x0007
      000473 19               [11] 1050 	add	hl, de
      000474 5E               [ 7] 1051 	ld	e, (hl)
                           000475  1052 	C$spriteengine.c$104$4_0$140	= .
                                   1053 	.globl	C$spriteengine.c$104$4_0$140
                                   1054 ;spriteengine.c:104: if(entitylist[i]->direction == RIGHT_DIRECTION)
      000475 79               [ 4] 1055 	ld	a, c
      000476 B7               [ 4] 1056 	or	a, a
      000477 20 7B            [12] 1057 	jr	NZ, 00102$
                           000479  1058 	C$spriteengine.c$106$5_0$141	= .
                                   1059 	.globl	C$spriteengine.c$106$5_0$141
                                   1060 ;spriteengine.c:106: devkit_SMS_mapROMBank(entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].tile_bank);
      000479 7B               [ 4] 1061 	ld	a, e
      00047A F5               [11] 1062 	push	af
      00047B 33               [ 6] 1063 	inc	sp
      00047C CDr00r00         [17] 1064 	call	_devkit_SMS_mapROMBank
      00047F 33               [ 6] 1065 	inc	sp
                           000480  1066 	C$spriteengine.c$102$2_0$138	= .
                                   1067 	.globl	C$spriteengine.c$102$2_0$138
                                   1068 ;spriteengine.c:102: if(entitylist[i]->has2ReloadTiles)
      000480 E1               [10] 1069 	pop	hl
      000481 E5               [11] 1070 	push	hl
      000482 4E               [ 7] 1071 	ld	c, (hl)
      000483 23               [ 6] 1072 	inc	hl
      000484 46               [ 7] 1073 	ld	b, (hl)
                           000485  1074 	C$spriteengine.c$107$2_0$138	= .
                                   1075 	.globl	C$spriteengine.c$107$2_0$138
                                   1076 ;spriteengine.c:107: devkit_SMS_loadTiles(entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].tiles, entitylist[i]->vramposition, entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].tile_bin_size);	
      000485 69               [ 4] 1077 	ld	l, c
      000486 60               [ 4] 1078 	ld	h, b
      000487 5E               [ 7] 1079 	ld	e, (hl)
      000488 23               [ 6] 1080 	inc	hl
      000489 56               [ 7] 1081 	ld	d, (hl)
      00048A 13               [ 6] 1082 	inc	de
      00048B 13               [ 6] 1083 	inc	de
      00048C 69               [ 4] 1084 	ld	l, c
      00048D 60               [ 4] 1085 	ld	h, b
      00048E C5               [11] 1086 	push	bc
      00048F 01 06 00         [10] 1087 	ld	bc, #0x0006
      000492 09               [11] 1088 	add	hl, bc
      000493 C1               [10] 1089 	pop	bc
      000494 6E               [ 7] 1090 	ld	l, (hl)
      000495 26 00            [ 7] 1091 	ld	h, #0x00
      000497 D5               [11] 1092 	push	de
      000498 5D               [ 4] 1093 	ld	e, l
      000499 54               [ 4] 1094 	ld	d, h
      00049A 29               [11] 1095 	add	hl, hl
      00049B 29               [11] 1096 	add	hl, hl
      00049C 19               [11] 1097 	add	hl, de
      00049D 29               [11] 1098 	add	hl, hl
      00049E 29               [11] 1099 	add	hl, hl
      00049F 29               [11] 1100 	add	hl, hl
      0004A0 29               [11] 1101 	add	hl, hl
      0004A1 19               [11] 1102 	add	hl, de
      0004A2 29               [11] 1103 	add	hl, hl
      0004A3 19               [11] 1104 	add	hl, de
      0004A4 29               [11] 1105 	add	hl, hl
      0004A5 29               [11] 1106 	add	hl, hl
      0004A6 D1               [10] 1107 	pop	de
      0004A7 19               [11] 1108 	add	hl, de
      0004A8 EB               [ 4] 1109 	ex	de, hl
      0004A9 13               [ 6] 1110 	inc	de
      0004AA 13               [ 6] 1111 	inc	de
      0004AB 69               [ 4] 1112 	ld	l, c
      0004AC 60               [ 4] 1113 	ld	h, b
      0004AD C5               [11] 1114 	push	bc
      0004AE 01 07 00         [10] 1115 	ld	bc, #0x0007
      0004B1 09               [11] 1116 	add	hl, bc
      0004B2 C1               [10] 1117 	pop	bc
      0004B3 7E               [ 7] 1118 	ld	a, (hl)
      0004B4 D5               [11] 1119 	push	de
      0004B5 5F               [ 4] 1120 	ld	e, a
      0004B6 16 00            [ 7] 1121 	ld	d, #0x00
      0004B8 6B               [ 4] 1122 	ld	l, e
      0004B9 62               [ 4] 1123 	ld	h, d
      0004BA 29               [11] 1124 	add	hl, hl
      0004BB 29               [11] 1125 	add	hl, hl
      0004BC 29               [11] 1126 	add	hl, hl
      0004BD 29               [11] 1127 	add	hl, hl
      0004BE 29               [11] 1128 	add	hl, hl
      0004BF 29               [11] 1129 	add	hl, hl
      0004C0 19               [11] 1130 	add	hl, de
      0004C1 D1               [10] 1131 	pop	de
      0004C2 19               [11] 1132 	add	hl, de
      0004C3 5D               [ 4] 1133 	ld	e, l
      0004C4 54               [ 4] 1134 	ld	d, h
      0004C5 23               [ 6] 1135 	inc	hl
      0004C6 23               [ 6] 1136 	inc	hl
      0004C7 23               [ 6] 1137 	inc	hl
      0004C8 23               [ 6] 1138 	inc	hl
      0004C9 23               [ 6] 1139 	inc	hl
      0004CA 7E               [ 7] 1140 	ld	a, (hl)
      0004CB DD 77 FC         [19] 1141 	ld	-4 (ix), a
      0004CE 23               [ 6] 1142 	inc	hl
      0004CF 7E               [ 7] 1143 	ld	a, (hl)
      0004D0 DD 77 FD         [19] 1144 	ld	-3 (ix), a
      0004D3 21 09 00         [10] 1145 	ld	hl, #9
      0004D6 09               [11] 1146 	add	hl, bc
      0004D7 4E               [ 7] 1147 	ld	c, (hl)
      0004D8 23               [ 6] 1148 	inc	hl
      0004D9 46               [ 7] 1149 	ld	b, (hl)
      0004DA 21 03 00         [10] 1150 	ld	hl, #3
      0004DD 19               [11] 1151 	add	hl, de
      0004DE 5E               [ 7] 1152 	ld	e, (hl)
      0004DF 23               [ 6] 1153 	inc	hl
      0004E0 56               [ 7] 1154 	ld	d, (hl)
      0004E1 DD 6E FC         [19] 1155 	ld	l, -4 (ix)
      0004E4 DD 66 FD         [19] 1156 	ld	h, -3 (ix)
      0004E7 E5               [11] 1157 	push	hl
      0004E8 C5               [11] 1158 	push	bc
      0004E9 D5               [11] 1159 	push	de
      0004EA CDr00r00         [17] 1160 	call	_devkit_SMS_loadTiles
      0004ED 21 06 00         [10] 1161 	ld	hl, #6
      0004F0 39               [11] 1162 	add	hl, sp
      0004F1 F9               [ 6] 1163 	ld	sp, hl
      0004F2 18 7C            [12] 1164 	jr	00103$
      0004F4                       1165 00102$:
                           0004F4  1166 	C$spriteengine.c$111$5_0$142	= .
                                   1167 	.globl	C$spriteengine.c$111$5_0$142
                                   1168 ;spriteengine.c:111: devkit_SMS_mapROMBank(entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].tile_bank);
      0004F4 7B               [ 4] 1169 	ld	a, e
      0004F5 F5               [11] 1170 	push	af
      0004F6 33               [ 6] 1171 	inc	sp
      0004F7 CDr00r00         [17] 1172 	call	_devkit_SMS_mapROMBank
      0004FA 33               [ 6] 1173 	inc	sp
                           0004FB  1174 	C$spriteengine.c$102$2_0$138	= .
                                   1175 	.globl	C$spriteengine.c$102$2_0$138
                                   1176 ;spriteengine.c:102: if(entitylist[i]->has2ReloadTiles)
      0004FB E1               [10] 1177 	pop	hl
      0004FC E5               [11] 1178 	push	hl
      0004FD 4E               [ 7] 1179 	ld	c, (hl)
      0004FE 23               [ 6] 1180 	inc	hl
      0004FF 46               [ 7] 1181 	ld	b, (hl)
                           000500  1182 	C$spriteengine.c$107$2_0$138	= .
                                   1183 	.globl	C$spriteengine.c$107$2_0$138
                                   1184 ;spriteengine.c:107: devkit_SMS_loadTiles(entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].tiles, entitylist[i]->vramposition, entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].tile_bin_size);	
      000500 69               [ 4] 1185 	ld	l, c
      000501 60               [ 4] 1186 	ld	h, b
      000502 5E               [ 7] 1187 	ld	e, (hl)
      000503 23               [ 6] 1188 	inc	hl
      000504 56               [ 7] 1189 	ld	d, (hl)
      000505 13               [ 6] 1190 	inc	de
      000506 13               [ 6] 1191 	inc	de
                           000507  1192 	C$spriteengine.c$112$5_0$142	= .
                                   1193 	.globl	C$spriteengine.c$112$5_0$142
                                   1194 ;spriteengine.c:112: devkit_SMS_loadTiles(entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].mirroredframelist[entitylist[i]->currentFrame].tiles, entitylist[i]->vramposition, entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].mirroredframelist[entitylist[i]->currentFrame].tile_bin_size);
      000507 69               [ 4] 1195 	ld	l, c
      000508 60               [ 4] 1196 	ld	h, b
      000509 C5               [11] 1197 	push	bc
      00050A 01 06 00         [10] 1198 	ld	bc, #0x0006
      00050D 09               [11] 1199 	add	hl, bc
      00050E C1               [10] 1200 	pop	bc
      00050F 6E               [ 7] 1201 	ld	l, (hl)
      000510 26 00            [ 7] 1202 	ld	h, #0x00
      000512 D5               [11] 1203 	push	de
      000513 5D               [ 4] 1204 	ld	e, l
      000514 54               [ 4] 1205 	ld	d, h
      000515 29               [11] 1206 	add	hl, hl
      000516 29               [11] 1207 	add	hl, hl
      000517 19               [11] 1208 	add	hl, de
      000518 29               [11] 1209 	add	hl, hl
      000519 29               [11] 1210 	add	hl, hl
      00051A 29               [11] 1211 	add	hl, hl
      00051B 29               [11] 1212 	add	hl, hl
      00051C 19               [11] 1213 	add	hl, de
      00051D 29               [11] 1214 	add	hl, hl
      00051E 19               [11] 1215 	add	hl, de
      00051F 29               [11] 1216 	add	hl, hl
      000520 29               [11] 1217 	add	hl, hl
      000521 D1               [10] 1218 	pop	de
      000522 19               [11] 1219 	add	hl, de
      000523 EB               [ 4] 1220 	ex	de, hl
      000524 21 47 01         [10] 1221 	ld	hl, #0x0147
      000527 19               [11] 1222 	add	hl, de
      000528 EB               [ 4] 1223 	ex	de, hl
      000529 69               [ 4] 1224 	ld	l, c
      00052A 60               [ 4] 1225 	ld	h, b
      00052B C5               [11] 1226 	push	bc
      00052C 01 07 00         [10] 1227 	ld	bc, #0x0007
      00052F 09               [11] 1228 	add	hl, bc
      000530 C1               [10] 1229 	pop	bc
      000531 7E               [ 7] 1230 	ld	a, (hl)
      000532 D5               [11] 1231 	push	de
      000533 5F               [ 4] 1232 	ld	e, a
      000534 16 00            [ 7] 1233 	ld	d, #0x00
      000536 6B               [ 4] 1234 	ld	l, e
      000537 62               [ 4] 1235 	ld	h, d
      000538 29               [11] 1236 	add	hl, hl
      000539 29               [11] 1237 	add	hl, hl
      00053A 29               [11] 1238 	add	hl, hl
      00053B 29               [11] 1239 	add	hl, hl
      00053C 29               [11] 1240 	add	hl, hl
      00053D 29               [11] 1241 	add	hl, hl
      00053E 19               [11] 1242 	add	hl, de
      00053F D1               [10] 1243 	pop	de
      000540 19               [11] 1244 	add	hl, de
      000541 5D               [ 4] 1245 	ld	e, l
      000542 54               [ 4] 1246 	ld	d, h
      000543 23               [ 6] 1247 	inc	hl
      000544 23               [ 6] 1248 	inc	hl
      000545 23               [ 6] 1249 	inc	hl
      000546 23               [ 6] 1250 	inc	hl
      000547 23               [ 6] 1251 	inc	hl
      000548 7E               [ 7] 1252 	ld	a, (hl)
      000549 DD 77 FC         [19] 1253 	ld	-4 (ix), a
      00054C 23               [ 6] 1254 	inc	hl
      00054D 7E               [ 7] 1255 	ld	a, (hl)
      00054E DD 77 FD         [19] 1256 	ld	-3 (ix), a
      000551 21 09 00         [10] 1257 	ld	hl, #9
      000554 09               [11] 1258 	add	hl, bc
      000555 4E               [ 7] 1259 	ld	c, (hl)
      000556 23               [ 6] 1260 	inc	hl
      000557 46               [ 7] 1261 	ld	b, (hl)
      000558 21 03 00         [10] 1262 	ld	hl, #3
      00055B 19               [11] 1263 	add	hl, de
      00055C 5E               [ 7] 1264 	ld	e, (hl)
      00055D 23               [ 6] 1265 	inc	hl
      00055E 56               [ 7] 1266 	ld	d, (hl)
      00055F DD 6E FC         [19] 1267 	ld	l, -4 (ix)
      000562 DD 66 FD         [19] 1268 	ld	h, -3 (ix)
      000565 E5               [11] 1269 	push	hl
      000566 C5               [11] 1270 	push	bc
      000567 D5               [11] 1271 	push	de
      000568 CDr00r00         [17] 1272 	call	_devkit_SMS_loadTiles
      00056B 21 06 00         [10] 1273 	ld	hl, #6
      00056E 39               [11] 1274 	add	hl, sp
      00056F F9               [ 6] 1275 	ld	sp, hl
      000570                       1276 00103$:
                           000570  1277 	C$spriteengine.c$114$4_0$140	= .
                                   1278 	.globl	C$spriteengine.c$114$4_0$140
                                   1279 ;spriteengine.c:114: entitylist[i]->has2ReloadTiles = false;
      000570 E1               [10] 1280 	pop	hl
      000571 E5               [11] 1281 	push	hl
      000572 4E               [ 7] 1282 	ld	c, (hl)
      000573 23               [ 6] 1283 	inc	hl
      000574 46               [ 7] 1284 	ld	b, (hl)
      000575 21 0B 00         [10] 1285 	ld	hl, #0x000b
      000578 09               [11] 1286 	add	hl, bc
      000579 36 00            [10] 1287 	ld	(hl), #0x00
      00057B                       1288 00109$:
                           00057B  1289 	C$spriteengine.c$100$2_0$138	= .
                                   1290 	.globl	C$spriteengine.c$100$2_0$138
                                   1291 ;spriteengine.c:100: for(i = 0;i < entityIndex; i++)
      00057B DD 34 FE         [23] 1292 	inc	-2 (ix)
      00057E C2rB5r03         [10] 1293 	jp	NZ,00108$
      000581 DD 34 FF         [23] 1294 	inc	-1 (ix)
      000584 C3rB5r03         [10] 1295 	jp	00108$
      000587                       1296 00110$:
                           000587  1297 	C$spriteengine.c$117$2_0$138	= .
                                   1298 	.globl	C$spriteengine.c$117$2_0$138
                                   1299 ;spriteengine.c:117: }
      000587 DD F9            [10] 1300 	ld	sp, ix
      000589 DD E1            [14] 1301 	pop	ix
                           00058B  1302 	C$spriteengine.c$117$2_0$138	= .
                                   1303 	.globl	C$spriteengine.c$117$2_0$138
                           00058B  1304 	XG$updateTiles$0$0	= .
                                   1305 	.globl	XG$updateTiles$0$0
      00058B C9               [10] 1306 	ret
                           00058C  1307 	G$drawEntities$0$0	= .
                                   1308 	.globl	G$drawEntities$0$0
                           00058C  1309 	C$spriteengine.c$119$2_0$143	= .
                                   1310 	.globl	C$spriteengine.c$119$2_0$143
                                   1311 ;spriteengine.c:119: void drawEntities()
                                   1312 ;	---------------------------------
                                   1313 ; Function drawEntities
                                   1314 ; ---------------------------------
      00058C                       1315 _drawEntities::
      00058C DD E5            [15] 1316 	push	ix
      00058E DD 21 00 00      [14] 1317 	ld	ix,#0
      000592 DD 39            [15] 1318 	add	ix,sp
      000594 21 EF FF         [10] 1319 	ld	hl, #-17
      000597 39               [11] 1320 	add	hl, sp
      000598 F9               [ 6] 1321 	ld	sp, hl
                           000599  1322 	C$spriteengine.c$122$1_0$143	= .
                                   1323 	.globl	C$spriteengine.c$122$1_0$143
                                   1324 ;spriteengine.c:122: devkit_SMS_initSprites();
      000599 CDr00r00         [17] 1325 	call	_devkit_SMS_initSprites
                           00059C  1326 	C$spriteengine.c$123$3_0$145	= .
                                   1327 	.globl	C$spriteengine.c$123$3_0$145
                                   1328 ;spriteengine.c:123: for(i = 0; i < entityIndex; i++)
      00059C AF               [ 4] 1329 	xor	a, a
      00059D DD 77 FC         [19] 1330 	ld	-4 (ix), a
      0005A0 DD 77 FD         [19] 1331 	ld	-3 (ix), a
      0005A3                       1332 00114$:
      0005A3 3Ar00r00         [13] 1333 	ld	a, (#_entityIndex + 0)
      0005A6 4F               [ 4] 1334 	ld	c, a
      0005A7 06 00            [ 7] 1335 	ld	b, #0x00
      0005A9 DD 7E FC         [19] 1336 	ld	a, -4 (ix)
      0005AC 91               [ 4] 1337 	sub	a, c
      0005AD DD 7E FD         [19] 1338 	ld	a, -3 (ix)
      0005B0 98               [ 4] 1339 	sbc	a, b
      0005B1 E2rB6r05         [10] 1340 	jp	PO, 00156$
      0005B4 EE 80            [ 7] 1341 	xor	a, #0x80
      0005B6                       1342 00156$:
      0005B6 F2r41r08         [10] 1343 	jp	P, 00106$
                           0005B9  1344 	C$spriteengine.c$125$3_0$145	= .
                                   1345 	.globl	C$spriteengine.c$125$3_0$145
                                   1346 ;spriteengine.c:125: if(entitylist[i]->direction == RIGHT_DIRECTION) {
      0005B9 DD 7E FC         [19] 1347 	ld	a, -4 (ix)
      0005BC DD 77 FA         [19] 1348 	ld	-6 (ix), a
      0005BF DD 7E FD         [19] 1349 	ld	a, -3 (ix)
      0005C2 DD 77 FB         [19] 1350 	ld	-5 (ix), a
      0005C5 DD CB FA 26      [23] 1351 	sla	-6 (ix)
      0005C9 DD CB FB 16      [23] 1352 	rl	-5 (ix)
      0005CD DD 7E FA         [19] 1353 	ld	a, -6 (ix)
      0005D0 C6r00            [ 7] 1354 	add	a, #<(_entitylist)
      0005D2 DD 77 FE         [19] 1355 	ld	-2 (ix), a
      0005D5 DD 7E FB         [19] 1356 	ld	a, -5 (ix)
      0005D8 CEs00            [ 7] 1357 	adc	a, #>(_entitylist)
      0005DA DD 77 FF         [19] 1358 	ld	-1 (ix), a
      0005DD DD 6E FE         [19] 1359 	ld	l, -2 (ix)
      0005E0 DD 66 FF         [19] 1360 	ld	h, -1 (ix)
      0005E3 4E               [ 7] 1361 	ld	c, (hl)
      0005E4 23               [ 6] 1362 	inc	hl
      0005E5 46               [ 7] 1363 	ld	b, (hl)
      0005E6 21 05 00         [10] 1364 	ld	hl, #5
      0005E9 09               [11] 1365 	add	hl, bc
      0005EA 7E               [ 7] 1366 	ld	a, (hl)
      0005EB DD 77 FB         [19] 1367 	ld	-5 (ix), a
      0005EE B7               [ 4] 1368 	or	a, a
      0005EF C2rD3r06         [10] 1369 	jp	NZ, 00123$
                           0005F2  1370 	C$spriteengine.c$126$5_0$147	= .
                                   1371 	.globl	C$spriteengine.c$126$5_0$147
                                   1372 ;spriteengine.c:126: for(j = 0; j < entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].numsprites; j++)
      0005F2 DD 7E FE         [19] 1373 	ld	a, -2 (ix)
      0005F5 DD 77 F7         [19] 1374 	ld	-9 (ix), a
      0005F8 DD 7E FF         [19] 1375 	ld	a, -1 (ix)
      0005FB DD 77 F8         [19] 1376 	ld	-8 (ix), a
      0005FE AF               [ 4] 1377 	xor	a, a
      0005FF DD 77 FE         [19] 1378 	ld	-2 (ix), a
      000602 DD 77 FF         [19] 1379 	ld	-1 (ix), a
      000605                       1380 00108$:
      000605 DD 6E F7         [19] 1381 	ld	l, -9 (ix)
      000608 DD 66 F8         [19] 1382 	ld	h, -8 (ix)
      00060B 4E               [ 7] 1383 	ld	c, (hl)
      00060C 23               [ 6] 1384 	inc	hl
      00060D 46               [ 7] 1385 	ld	b, (hl)
      00060E 69               [ 4] 1386 	ld	l, c
      00060F 60               [ 4] 1387 	ld	h, b
      000610 5E               [ 7] 1388 	ld	e, (hl)
      000611 23               [ 6] 1389 	inc	hl
      000612 56               [ 7] 1390 	ld	d, (hl)
      000613 13               [ 6] 1391 	inc	de
      000614 13               [ 6] 1392 	inc	de
      000615 69               [ 4] 1393 	ld	l, c
      000616 60               [ 4] 1394 	ld	h, b
      000617 C5               [11] 1395 	push	bc
      000618 01 06 00         [10] 1396 	ld	bc, #0x0006
      00061B 09               [11] 1397 	add	hl, bc
      00061C C1               [10] 1398 	pop	bc
      00061D 6E               [ 7] 1399 	ld	l, (hl)
      00061E 26 00            [ 7] 1400 	ld	h, #0x00
      000620 D5               [11] 1401 	push	de
      000621 5D               [ 4] 1402 	ld	e, l
      000622 54               [ 4] 1403 	ld	d, h
      000623 29               [11] 1404 	add	hl, hl
      000624 29               [11] 1405 	add	hl, hl
      000625 19               [11] 1406 	add	hl, de
      000626 29               [11] 1407 	add	hl, hl
      000627 29               [11] 1408 	add	hl, hl
      000628 29               [11] 1409 	add	hl, hl
      000629 29               [11] 1410 	add	hl, hl
      00062A 19               [11] 1411 	add	hl, de
      00062B 29               [11] 1412 	add	hl, hl
      00062C 19               [11] 1413 	add	hl, de
      00062D 29               [11] 1414 	add	hl, hl
      00062E 29               [11] 1415 	add	hl, hl
      00062F D1               [10] 1416 	pop	de
      000630 19               [11] 1417 	add	hl, de
      000631 EB               [ 4] 1418 	ex	de, hl
      000632 13               [ 6] 1419 	inc	de
      000633 13               [ 6] 1420 	inc	de
      000634 69               [ 4] 1421 	ld	l, c
      000635 60               [ 4] 1422 	ld	h, b
      000636 C5               [11] 1423 	push	bc
      000637 01 07 00         [10] 1424 	ld	bc, #0x0007
      00063A 09               [11] 1425 	add	hl, bc
      00063B C1               [10] 1426 	pop	bc
      00063C 7E               [ 7] 1427 	ld	a, (hl)
      00063D D5               [11] 1428 	push	de
      00063E 5F               [ 4] 1429 	ld	e, a
      00063F 16 00            [ 7] 1430 	ld	d, #0x00
      000641 6B               [ 4] 1431 	ld	l, e
      000642 62               [ 4] 1432 	ld	h, d
      000643 29               [11] 1433 	add	hl, hl
      000644 29               [11] 1434 	add	hl, hl
      000645 29               [11] 1435 	add	hl, hl
      000646 29               [11] 1436 	add	hl, hl
      000647 29               [11] 1437 	add	hl, hl
      000648 29               [11] 1438 	add	hl, hl
      000649 19               [11] 1439 	add	hl, de
      00064A D1               [10] 1440 	pop	de
      00064B 19               [11] 1441 	add	hl, de
      00064C 5D               [ 4] 1442 	ld	e, l
      00064D 54               [ 4] 1443 	ld	d, h
      00064E 23               [ 6] 1444 	inc	hl
      00064F 23               [ 6] 1445 	inc	hl
      000650 6E               [ 7] 1446 	ld	l, (hl)
      000651 26 00            [ 7] 1447 	ld	h, #0x00
      000653 DD 7E FE         [19] 1448 	ld	a, -2 (ix)
      000656 95               [ 4] 1449 	sub	a, l
      000657 DD 7E FF         [19] 1450 	ld	a, -1 (ix)
      00065A 9C               [ 4] 1451 	sbc	a, h
      00065B E2r60r06         [10] 1452 	jp	PO, 00158$
      00065E EE 80            [ 7] 1453 	xor	a, #0x80
      000660                       1454 00158$:
      000660 F2r35r08         [10] 1455 	jp	P, 00115$
                           000663  1456 	C$spriteengine.c$128$6_0$148	= .
                                   1457 	.globl	C$spriteengine.c$128$6_0$148
                                   1458 ;spriteengine.c:128: devkit_SMS_addSprite (entitylist[i]->px + entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].tilelist[j].dpx,entitylist[i]->py + entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].tilelist[j].dpy,entitylist[i]->vramposition + entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].tilelist[j].tile);
      000663 69               [ 4] 1459 	ld	l, c
      000664 60               [ 4] 1460 	ld	h, b
      000665 C5               [11] 1461 	push	bc
      000666 01 09 00         [10] 1462 	ld	bc, #0x0009
      000669 09               [11] 1463 	add	hl, bc
      00066A C1               [10] 1464 	pop	bc
      00066B 7E               [ 7] 1465 	ld	a, (hl)
      00066C DD 77 F5         [19] 1466 	ld	-11 (ix), a
      00066F 23               [ 6] 1467 	inc	hl
      000670 7E               [ 7] 1468 	ld	a, (hl)
      000671 DD 77 F6         [19] 1469 	ld	-10 (ix), a
      000674 21 11 00         [10] 1470 	ld	hl, #0x0011
      000677 19               [11] 1471 	add	hl, de
      000678 E5               [11] 1472 	push	hl
      000679 DD 5E FE         [19] 1473 	ld	e, -2 (ix)
      00067C DD 56 FF         [19] 1474 	ld	d, -1 (ix)
      00067F 6B               [ 4] 1475 	ld	l, e
      000680 62               [ 4] 1476 	ld	h, d
      000681 29               [11] 1477 	add	hl, hl
      000682 19               [11] 1478 	add	hl, de
      000683 D1               [10] 1479 	pop	de
      000684 19               [11] 1480 	add	hl, de
      000685 EB               [ 4] 1481 	ex	de, hl
      000686 1A               [ 7] 1482 	ld	a, (de)
      000687 26 00            [ 7] 1483 	ld	h, #0x00
      000689 DD 86 F5         [19] 1484 	add	a, -11 (ix)
      00068C DD 77 F9         [19] 1485 	ld	-7 (ix), a
      00068F 7C               [ 4] 1486 	ld	a, h
      000690 DD 8E F6         [19] 1487 	adc	a, -10 (ix)
      000693 DD 77 FA         [19] 1488 	ld	-6 (ix), a
      000696 69               [ 4] 1489 	ld	l, c
      000697 60               [ 4] 1490 	ld	h, b
      000698 23               [ 6] 1491 	inc	hl
      000699 23               [ 6] 1492 	inc	hl
      00069A 23               [ 6] 1493 	inc	hl
      00069B 23               [ 6] 1494 	inc	hl
      00069C 7E               [ 7] 1495 	ld	a, (hl)
      00069D DD 77 FB         [19] 1496 	ld	-5 (ix), a
      0006A0 6B               [ 4] 1497 	ld	l, e
      0006A1 62               [ 4] 1498 	ld	h, d
      0006A2 23               [ 6] 1499 	inc	hl
      0006A3 23               [ 6] 1500 	inc	hl
      0006A4 7E               [ 7] 1501 	ld	a, (hl)
      0006A5 DD 6E FB         [19] 1502 	ld	l, -5 (ix)
      0006A8 85               [ 4] 1503 	add	a, l
      0006A9 DD 77 FB         [19] 1504 	ld	-5 (ix), a
      0006AC 21 03 00         [10] 1505 	ld	hl, #3
      0006AF 09               [11] 1506 	add	hl, bc
      0006B0 4E               [ 7] 1507 	ld	c, (hl)
      0006B1 13               [ 6] 1508 	inc	de
      0006B2 1A               [ 7] 1509 	ld	a, (de)
      0006B3 81               [ 4] 1510 	add	a, c
      0006B4 DD 6E F9         [19] 1511 	ld	l, -7 (ix)
      0006B7 DD 66 FA         [19] 1512 	ld	h, -6 (ix)
      0006BA E5               [11] 1513 	push	hl
      0006BB DD 66 FB         [19] 1514 	ld	h, -5 (ix)
      0006BE E5               [11] 1515 	push	hl
      0006BF 33               [ 6] 1516 	inc	sp
      0006C0 F5               [11] 1517 	push	af
      0006C1 33               [ 6] 1518 	inc	sp
      0006C2 CDr00r00         [17] 1519 	call	_devkit_SMS_addSprite
      0006C5 F1               [10] 1520 	pop	af
      0006C6 F1               [10] 1521 	pop	af
                           0006C7  1522 	C$spriteengine.c$126$5_0$147	= .
                                   1523 	.globl	C$spriteengine.c$126$5_0$147
                                   1524 ;spriteengine.c:126: for(j = 0; j < entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].framelist[entitylist[i]->currentFrame].numsprites; j++)
      0006C7 DD 34 FE         [23] 1525 	inc	-2 (ix)
      0006CA C2r05r06         [10] 1526 	jp	NZ,00108$
      0006CD DD 34 FF         [23] 1527 	inc	-1 (ix)
      0006D0 C3r05r06         [10] 1528 	jp	00108$
                           0006D3  1529 	C$spriteengine.c$133$1_0$143	= .
                                   1530 	.globl	C$spriteengine.c$133$1_0$143
                                   1531 ;spriteengine.c:133: for(j = 0; j < entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].mirroredframelist[entitylist[i]->currentFrame].numsprites; j++)
      0006D3                       1532 00123$:
      0006D3 DD 7E FE         [19] 1533 	ld	a, -2 (ix)
      0006D6 DD 77 F1         [19] 1534 	ld	-15 (ix), a
      0006D9 DD 7E FF         [19] 1535 	ld	a, -1 (ix)
      0006DC DD 77 F2         [19] 1536 	ld	-14 (ix), a
      0006DF AF               [ 4] 1537 	xor	a, a
      0006E0 DD 77 FE         [19] 1538 	ld	-2 (ix), a
      0006E3 DD 77 FF         [19] 1539 	ld	-1 (ix), a
      0006E6                       1540 00111$:
      0006E6 DD 6E F1         [19] 1541 	ld	l, -15 (ix)
      0006E9 DD 66 F2         [19] 1542 	ld	h, -14 (ix)
      0006EC 7E               [ 7] 1543 	ld	a, (hl)
      0006ED DD 77 F3         [19] 1544 	ld	-13 (ix), a
      0006F0 23               [ 6] 1545 	inc	hl
      0006F1 7E               [ 7] 1546 	ld	a, (hl)
      0006F2 DD 77 F4         [19] 1547 	ld	-12 (ix), a
      0006F5 DD 6E F3         [19] 1548 	ld	l, -13 (ix)
      0006F8 DD 66 F4         [19] 1549 	ld	h, -12 (ix)
      0006FB 4E               [ 7] 1550 	ld	c, (hl)
      0006FC 23               [ 6] 1551 	inc	hl
      0006FD 46               [ 7] 1552 	ld	b, (hl)
      0006FE 03               [ 6] 1553 	inc	bc
      0006FF 03               [ 6] 1554 	inc	bc
      000700 DD 5E F3         [19] 1555 	ld	e, -13 (ix)
      000703 DD 56 F4         [19] 1556 	ld	d, -12 (ix)
      000706 21 06 00         [10] 1557 	ld	hl, #6
      000709 19               [11] 1558 	add	hl, de
      00070A 5E               [ 7] 1559 	ld	e, (hl)
      00070B 16 00            [ 7] 1560 	ld	d, #0x00
      00070D 6B               [ 4] 1561 	ld	l, e
      00070E 62               [ 4] 1562 	ld	h, d
      00070F 29               [11] 1563 	add	hl, hl
      000710 29               [11] 1564 	add	hl, hl
      000711 19               [11] 1565 	add	hl, de
      000712 29               [11] 1566 	add	hl, hl
      000713 29               [11] 1567 	add	hl, hl
      000714 29               [11] 1568 	add	hl, hl
      000715 29               [11] 1569 	add	hl, hl
      000716 19               [11] 1570 	add	hl, de
      000717 29               [11] 1571 	add	hl, hl
      000718 19               [11] 1572 	add	hl, de
      000719 29               [11] 1573 	add	hl, hl
      00071A 29               [11] 1574 	add	hl, hl
      00071B 09               [11] 1575 	add	hl, bc
      00071C EB               [ 4] 1576 	ex	de, hl
      00071D 21 47 01         [10] 1577 	ld	hl, #0x0147
      000720 19               [11] 1578 	add	hl, de
      000721 EB               [ 4] 1579 	ex	de, hl
      000722 DD 4E F3         [19] 1580 	ld	c, -13 (ix)
      000725 DD 46 F4         [19] 1581 	ld	b, -12 (ix)
      000728 21 07 00         [10] 1582 	ld	hl, #7
      00072B 09               [11] 1583 	add	hl, bc
      00072C 4E               [ 7] 1584 	ld	c, (hl)
      00072D 06 00            [ 7] 1585 	ld	b, #0x00
      00072F 69               [ 4] 1586 	ld	l, c
      000730 60               [ 4] 1587 	ld	h, b
      000731 29               [11] 1588 	add	hl, hl
      000732 29               [11] 1589 	add	hl, hl
      000733 29               [11] 1590 	add	hl, hl
      000734 29               [11] 1591 	add	hl, hl
      000735 29               [11] 1592 	add	hl, hl
      000736 29               [11] 1593 	add	hl, hl
      000737 09               [11] 1594 	add	hl, bc
      000738 19               [11] 1595 	add	hl, de
      000739 4D               [ 4] 1596 	ld	c,l
      00073A 44               [ 4] 1597 	ld	b,h
      00073B 23               [ 6] 1598 	inc	hl
      00073C 23               [ 6] 1599 	inc	hl
      00073D 5E               [ 7] 1600 	ld	e, (hl)
      00073E 16 00            [ 7] 1601 	ld	d, #0x00
      000740 DD 7E FE         [19] 1602 	ld	a, -2 (ix)
      000743 93               [ 4] 1603 	sub	a, e
      000744 DD 7E FF         [19] 1604 	ld	a, -1 (ix)
      000747 9A               [ 4] 1605 	sbc	a, d
      000748 E2r4Dr07         [10] 1606 	jp	PO, 00160$
      00074B EE 80            [ 7] 1607 	xor	a, #0x80
      00074D                       1608 00160$:
      00074D F2r35r08         [10] 1609 	jp	P, 00115$
                           000750  1610 	C$spriteengine.c$135$6_0$151	= .
                                   1611 	.globl	C$spriteengine.c$135$6_0$151
                                   1612 ;spriteengine.c:135: devkit_SMS_addSprite (entitylist[i]->px + entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].mirroredframelist[entitylist[i]->currentFrame].tilelist[j].dpx,entitylist[i]->py + entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].mirroredframelist[entitylist[i]->currentFrame].tilelist[j].dpy,entitylist[i]->vramposition + entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].mirroredframelist[entitylist[i]->currentFrame].tilelist[j].tile);
      000750 DD 6E F3         [19] 1613 	ld	l, -13 (ix)
      000753 DD 66 F4         [19] 1614 	ld	h, -12 (ix)
      000756 11 09 00         [10] 1615 	ld	de, #0x0009
      000759 19               [11] 1616 	add	hl, de
      00075A 7E               [ 7] 1617 	ld	a, (hl)
      00075B DD 77 EF         [19] 1618 	ld	-17 (ix), a
      00075E 23               [ 6] 1619 	inc	hl
      00075F 7E               [ 7] 1620 	ld	a, (hl)
      000760 DD 77 F0         [19] 1621 	ld	-16 (ix), a
      000763 21 11 00         [10] 1622 	ld	hl, #0x0011
      000766 09               [11] 1623 	add	hl, bc
      000767 DD 75 F8         [19] 1624 	ld	-8 (ix), l
      00076A DD 74 F9         [19] 1625 	ld	-7 (ix), h
      00076D DD 4E FE         [19] 1626 	ld	c, -2 (ix)
      000770 DD 46 FF         [19] 1627 	ld	b, -1 (ix)
      000773 69               [ 4] 1628 	ld	l, c
      000774 60               [ 4] 1629 	ld	h, b
      000775 29               [11] 1630 	add	hl, hl
      000776 09               [11] 1631 	add	hl, bc
      000777 DD 75 FA         [19] 1632 	ld	-6 (ix), l
      00077A DD 74 FB         [19] 1633 	ld	-5 (ix), h
      00077D DD 7E FA         [19] 1634 	ld	a, -6 (ix)
      000780 DD 86 F8         [19] 1635 	add	a, -8 (ix)
      000783 DD 77 F5         [19] 1636 	ld	-11 (ix), a
      000786 DD 7E FB         [19] 1637 	ld	a, -5 (ix)
      000789 DD 8E F9         [19] 1638 	adc	a, -7 (ix)
      00078C DD 77 F6         [19] 1639 	ld	-10 (ix), a
      00078F DD 6E F5         [19] 1640 	ld	l, -11 (ix)
      000792 DD 66 F6         [19] 1641 	ld	h, -10 (ix)
      000795 7E               [ 7] 1642 	ld	a, (hl)
      000796 DD 77 FB         [19] 1643 	ld	-5 (ix), a
      000799 DD 77 FA         [19] 1644 	ld	-6 (ix), a
      00079C DD 36 FB 00      [19] 1645 	ld	-5 (ix), #0
      0007A0 DD 7E FA         [19] 1646 	ld	a, -6 (ix)
      0007A3 DD 86 EF         [19] 1647 	add	a, -17 (ix)
      0007A6 DD 77 F7         [19] 1648 	ld	-9 (ix), a
      0007A9 DD 7E FB         [19] 1649 	ld	a, -5 (ix)
      0007AC DD 8E F0         [19] 1650 	adc	a, -16 (ix)
      0007AF DD 77 F8         [19] 1651 	ld	-8 (ix), a
      0007B2 DD 7E F3         [19] 1652 	ld	a, -13 (ix)
      0007B5 DD 77 FA         [19] 1653 	ld	-6 (ix), a
      0007B8 DD 7E F4         [19] 1654 	ld	a, -12 (ix)
      0007BB DD 77 FB         [19] 1655 	ld	-5 (ix), a
      0007BE DD 6E FA         [19] 1656 	ld	l, -6 (ix)
      0007C1 DD 66 FB         [19] 1657 	ld	h, -5 (ix)
      0007C4 11 04 00         [10] 1658 	ld	de, #0x0004
      0007C7 19               [11] 1659 	add	hl, de
      0007C8 7E               [ 7] 1660 	ld	a, (hl)
      0007C9 DD 77 FB         [19] 1661 	ld	-5 (ix), a
      0007CC DD 7E F5         [19] 1662 	ld	a, -11 (ix)
      0007CF DD 77 EF         [19] 1663 	ld	-17 (ix), a
      0007D2 DD 7E F6         [19] 1664 	ld	a, -10 (ix)
      0007D5 DD 77 F0         [19] 1665 	ld	-16 (ix), a
      0007D8 E1               [10] 1666 	pop	hl
      0007D9 E5               [11] 1667 	push	hl
      0007DA 23               [ 6] 1668 	inc	hl
      0007DB 23               [ 6] 1669 	inc	hl
      0007DC 7E               [ 7] 1670 	ld	a, (hl)
      0007DD DD 77 F9         [19] 1671 	ld	-7 (ix), a
      0007E0 DD 7E FB         [19] 1672 	ld	a, -5 (ix)
      0007E3 DD 86 F9         [19] 1673 	add	a, -7 (ix)
      0007E6 DD 77 FB         [19] 1674 	ld	-5 (ix), a
      0007E9 DD 7E F3         [19] 1675 	ld	a, -13 (ix)
      0007EC DD 77 F9         [19] 1676 	ld	-7 (ix), a
      0007EF DD 7E F4         [19] 1677 	ld	a, -12 (ix)
      0007F2 DD 77 FA         [19] 1678 	ld	-6 (ix), a
      0007F5 DD 6E F9         [19] 1679 	ld	l, -7 (ix)
      0007F8 DD 66 FA         [19] 1680 	ld	h, -6 (ix)
      0007FB 23               [ 6] 1681 	inc	hl
      0007FC 23               [ 6] 1682 	inc	hl
      0007FD 23               [ 6] 1683 	inc	hl
      0007FE 7E               [ 7] 1684 	ld	a, (hl)
      0007FF DD 77 FA         [19] 1685 	ld	-6 (ix), a
      000802 DD 6E F5         [19] 1686 	ld	l, -11 (ix)
      000805 DD 66 F6         [19] 1687 	ld	h, -10 (ix)
      000808 23               [ 6] 1688 	inc	hl
      000809 7E               [ 7] 1689 	ld	a, (hl)
      00080A DD 77 F9         [19] 1690 	ld	-7 (ix), a
      00080D DD 7E FA         [19] 1691 	ld	a, -6 (ix)
      000810 DD 86 F9         [19] 1692 	add	a, -7 (ix)
      000813 DD 77 FA         [19] 1693 	ld	-6 (ix), a
      000816 DD 6E F7         [19] 1694 	ld	l, -9 (ix)
      000819 DD 66 F8         [19] 1695 	ld	h, -8 (ix)
      00081C E5               [11] 1696 	push	hl
      00081D DD 66 FB         [19] 1697 	ld	h, -5 (ix)
      000820 DD 6E FA         [19] 1698 	ld	l, -6 (ix)
      000823 E5               [11] 1699 	push	hl
      000824 CDr00r00         [17] 1700 	call	_devkit_SMS_addSprite
      000827 F1               [10] 1701 	pop	af
      000828 F1               [10] 1702 	pop	af
                           000829  1703 	C$spriteengine.c$133$5_0$150	= .
                                   1704 	.globl	C$spriteengine.c$133$5_0$150
                                   1705 ;spriteengine.c:133: for(j = 0; j < entitylist[i]->characterData->animationlist[entitylist[i]->currentAnimation].mirroredframelist[entitylist[i]->currentFrame].numsprites; j++)
      000829 DD 34 FE         [23] 1706 	inc	-2 (ix)
      00082C C2rE6r06         [10] 1707 	jp	NZ,00111$
      00082F DD 34 FF         [23] 1708 	inc	-1 (ix)
      000832 C3rE6r06         [10] 1709 	jp	00111$
      000835                       1710 00115$:
                           000835  1711 	C$spriteengine.c$123$2_0$144	= .
                                   1712 	.globl	C$spriteengine.c$123$2_0$144
                                   1713 ;spriteengine.c:123: for(i = 0; i < entityIndex; i++)
      000835 DD 34 FC         [23] 1714 	inc	-4 (ix)
      000838 C2rA3r05         [10] 1715 	jp	NZ,00114$
      00083B DD 34 FD         [23] 1716 	inc	-3 (ix)
      00083E C3rA3r05         [10] 1717 	jp	00114$
      000841                       1718 00106$:
                           000841  1719 	C$spriteengine.c$139$1_0$143	= .
                                   1720 	.globl	C$spriteengine.c$139$1_0$143
                                   1721 ;spriteengine.c:139: devkit_SMS_finalizeSprites();
      000841 CDr00r00         [17] 1722 	call	_devkit_SMS_finalizeSprites
                           000844  1723 	C$spriteengine.c$140$1_0$143	= .
                                   1724 	.globl	C$spriteengine.c$140$1_0$143
                                   1725 ;spriteengine.c:140: }
      000844 DD F9            [10] 1726 	ld	sp, ix
      000846 DD E1            [14] 1727 	pop	ix
                           000848  1728 	C$spriteengine.c$140$1_0$143	= .
                                   1729 	.globl	C$spriteengine.c$140$1_0$143
                           000848  1730 	XG$drawEntities$0$0	= .
                                   1731 	.globl	XG$drawEntities$0$0
      000848 C9               [10] 1732 	ret
                           000849  1733 	G$move_entity$0$0	= .
                                   1734 	.globl	G$move_entity$0$0
                           000849  1735 	C$spriteengine.c$142$1_0$153	= .
                                   1736 	.globl	C$spriteengine.c$142$1_0$153
                                   1737 ;spriteengine.c:142: void move_entity(unsigned char entitynumber, signed char x, signed char y)
                                   1738 ;	---------------------------------
                                   1739 ; Function move_entity
                                   1740 ; ---------------------------------
      000849                       1741 _move_entity::
      000849 DD E5            [15] 1742 	push	ix
      00084B DD 21 00 00      [14] 1743 	ld	ix,#0
      00084F DD 39            [15] 1744 	add	ix,sp
                           000851  1745 	C$spriteengine.c$144$1_0$153	= .
                                   1746 	.globl	C$spriteengine.c$144$1_0$153
                                   1747 ;spriteengine.c:144: entitylist[entitynumber]->px = entitylist[entitynumber]->px + x;
      000851 01r00r00         [10] 1748 	ld	bc, #_entitylist+0
      000854 DD 6E 04         [19] 1749 	ld	l, 4 (ix)
      000857 26 00            [ 7] 1750 	ld	h, #0x00
      000859 29               [11] 1751 	add	hl, hl
      00085A 09               [11] 1752 	add	hl, bc
      00085B 5D               [ 4] 1753 	ld	e, l
      00085C 54               [ 4] 1754 	ld	d, h
      00085D 4E               [ 7] 1755 	ld	c, (hl)
      00085E 23               [ 6] 1756 	inc	hl
      00085F 46               [ 7] 1757 	ld	b, (hl)
      000860 03               [ 6] 1758 	inc	bc
      000861 03               [ 6] 1759 	inc	bc
      000862 03               [ 6] 1760 	inc	bc
      000863 0A               [ 7] 1761 	ld	a, (bc)
      000864 DD 86 05         [19] 1762 	add	a, 5 (ix)
      000867 02               [ 7] 1763 	ld	(bc), a
                           000868  1764 	C$spriteengine.c$145$1_0$153	= .
                                   1765 	.globl	C$spriteengine.c$145$1_0$153
                                   1766 ;spriteengine.c:145: entitylist[entitynumber]->py = entitylist[entitynumber]->py + y;
      000868 EB               [ 4] 1767 	ex	de,hl
      000869 4E               [ 7] 1768 	ld	c, (hl)
      00086A 23               [ 6] 1769 	inc	hl
      00086B 46               [ 7] 1770 	ld	b, (hl)
      00086C 03               [ 6] 1771 	inc	bc
      00086D 03               [ 6] 1772 	inc	bc
      00086E 03               [ 6] 1773 	inc	bc
      00086F 03               [ 6] 1774 	inc	bc
      000870 0A               [ 7] 1775 	ld	a, (bc)
      000871 DD 86 06         [19] 1776 	add	a, 6 (ix)
      000874 02               [ 7] 1777 	ld	(bc), a
                           000875  1778 	C$spriteengine.c$146$1_0$153	= .
                                   1779 	.globl	C$spriteengine.c$146$1_0$153
                                   1780 ;spriteengine.c:146: }
      000875 DD E1            [14] 1781 	pop	ix
                           000877  1782 	C$spriteengine.c$146$1_0$153	= .
                                   1783 	.globl	C$spriteengine.c$146$1_0$153
                           000877  1784 	XG$move_entity$0$0	= .
                                   1785 	.globl	XG$move_entity$0$0
      000877 C9               [10] 1786 	ret
                                   1787 	.area _CODE
                                   1788 	.area _INITIALIZER
                           000000  1789 Fspriteengine$__xinit_entityIndex$0_0$0 == .
      000000                       1790 __xinit__entityIndex:
      000000 00                    1791 	.db #0x00	; 0
                           000001  1792 Fspriteengine$__xinit_entityVramPosition$0_0$0 == .
      000001                       1793 __xinit__entityVramPosition:
      000001 00 01                 1794 	.dw #0x0100
                                   1795 	.area _CABS (ABS)
